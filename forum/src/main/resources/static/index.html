<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="shortcut icon" href="/favicon.ico">
    <title>ç éŸµæ™ºæ±‡æ ˆ - æŠ€æœ¯äº¤æµç¤¾åŒº</title>
    <!-- å¯¼å…¥CSS -->
    <link href="./dist/css/tabler.min.css?1674944402" rel="stylesheet" />
    <link rel="stylesheet" href="./dist/css/jquery.toast.css">
    <link rel="stylesheet" href="./dist/editor.md/css/editormd.min.css">
    <!-- è‡ªå®šä¹‰æ ·å¼ -->
    <style>
        /* ========== ä¸»å†…å®¹åŒºåŸŸ ========== */
        .main-content-card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            overflow: hidden;
        }
        .content-header {
            padding: 16px 20px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .content-header h3 {
            margin: 0;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        /* ========== é¡µè„šæ ·å¼ ========== */
        .footer-enhanced {
            background: linear-gradient(135deg, #1a1c2e 0%, #2d3561 100%);
            color: #fff;
            padding: 40px 0 20px 0;
            margin-top: 30px;
        }
        .footer-section h6 {
            font-weight: 600;
            margin-bottom: 15px;
            color: #fff;
            font-size: 1rem;
        }
        .footer-section ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .footer-section ul li {
            margin-bottom: 10px;
        }
        .footer-section ul li a {
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            transition: color 0.3s;
        }
        .footer-section ul li a:hover {
            color: #fff;
        }
        .footer-section p {
            color: rgba(255,255,255,0.7);
            font-size: 0.9rem;
            line-height: 1.6;
        }
        .footer-bottom {
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 20px;
            margin-top: 30px;
        }
        .footer-bottom span, .footer-bottom a {
            color: rgba(255,255,255,0.6);
            font-size: 0.85rem;
        }
        .footer-bottom a:hover {
            color: #fff;
        }
        
        /* ========== å¯¼èˆªæ å“ç‰Œ ========== */
        .brand-text {
            font-size: 1.1rem;
            font-weight: 600;
            color: #206bc4;
            margin-left: 5px;
        }
        
        /* å¤œé—´æ¨¡å¼ä¸‹çš„å“ç‰Œæ–‡å­—é¢œè‰² */
        [data-bs-theme="dark"] .brand-text {
            color: #4dabf7 !important;
        }
        
        /* ========== é¡µé¢èƒŒæ™¯ ========== */
        .page-body-wrapper {
            background: #f4f6fa;
            min-height: calc(100vh - 200px);
            padding: 20px 0;
        }
    </style>
</head>

<body>
<!-- page é¡µé¢å¼€å§‹ -->
<div class="page">
    <!-- å¤´éƒ¨ å¯¼èˆª å¼€å§‹ -->
    <header class="navbar navbar-expand-md navbar-light d-print-none">
        <div class="container-xl">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-menu"
                    aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- å¯¼èˆªå·¦ä¾§ logo æŒ‰é’® -->
            <h1 class="navbar-brand navbar-brand-autodark d-none-navbar-horizontal pe-0 pe-md-3">
                <a href="#" class="d-flex align-items-center text-decoration-none">
                    <img src="./image/forum-logo.jpg" width="32" height="32" alt="Logo" class="navbar-brand-image">
                    <!-- <span class="brand-text d-none d-md-inline">ç éŸµæ™ºæ±‡æ ˆ</span> -->
                </a>
            </h1>
            <!-- å¯¼èˆªå³ä¾§ -->
            <div class="navbar-nav flex-row order-md-last">
                <!-- æœç´¢æ¡† -->
                <div class="nav-item d-none d-md-flex me-3">
                    <form action="javascript:void(0);" autocomplete="off" novalidate>
                        <div class="input-group">
                            <span class="input-group-text" id="searchIconBtn" style="cursor: pointer;">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                                    stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
                                <path d="M21 21l-6 -6" />
                                </svg>
                            </span>
                            <input type="text" id="searchKeyword" class="form-control" placeholder="æœç´¢å¸–å­..." aria-label="Search" readonly style="cursor: pointer; background: #fff;">
                            <a href="javascript:void(0);" class="btn btn-primary" id="btn_open_adv_search">
                                é«˜çº§æŸ¥è¯¢
                            </a>
                        </div>
                    </form>
                </div>
                <!-- ä¸»é¢˜æ ·å¼æ—¥å¤œè½¬æ¢ -->
                <div class="d-none d-md-flex">
                    <a href="?theme=dark" class="nav-link px-0 hide-theme-dark" title="åˆ‡æ¢è‡³å¤œé—´æ¨¡å¼" data-bs-toggle="tooltip"
                       data-bs-placement="bottom">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                             stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
                        </svg>
                    </a>
                    <a href="?theme=light" class="nav-link px-0 hide-theme-light" title="åˆ‡æ¢è‡³ç™½å¤©æ¨¡å¼" data-bs-toggle="tooltip"
                       data-bs-placement="bottom">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                             stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" />
                            <path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7" />
                        </svg>
                    </a>

                    <!-- å°é“ƒé“›ï¼Œç«™å†…ä¿¡ -->
                    <div class="nav-item dropdown d-none d-md-flex me-3">
                        <a class="nav-link px-0" data-bs-toggle="offcanvas" href="#index_message_offcanvasEnd" aria-controls="offcanvasEnd">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6" /><path d="M9 17v1a3 3 0 0 0 6 0v-1" /></svg>
                            <!-- å°çº¢ç‚¹ -->
                            <span class="badge bg-red" id="index_nva_message_badge" style="display: none;"></span>
                        </a>
                    </div>
                </div>

                <!-- ç”¨æˆ·ä¿¡æ¯ -->
                <div class="nav-item dropdown">
                    <a href="#" class="nav-link d-flex lh-1 text-reset p-0" data-bs-toggle="dropdown"
                       aria-label="Open user menu">
                        <!-- ç”¨æˆ·å¤´åƒï¼Œä¹Ÿå¯ä»¥ç”¨imgæ ‡ç­¾ -->
                        <span id="index_nav_avatar" class="avatar avatar-sm"
                              style="background-image: url(./image/avatar01.jpeg)"></span>
                        <div class="d-none d-xl-block ps-2">
                            <!-- ç”¨æˆ·å -->
                            <div id="index_nav_nickname"></div>
                            <!-- å‰¯æ ‡é¢˜ -->
                            <div id="index_nav_name_sub" class="mt-1 small text-muted"></div>
                        </div>
                    </a>
                    <!-- ä¸‹æ‹‰èœå• -->
                    <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                        <!-- æ¸¸å®¢ç™»å½•æç¤º -->
                        <div id="guest_login_tip" style="display: none;">
                            <a href="sign-in.html" class="dropdown-item text-primary">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"></path>
                                    <path d="M20 12h-13l3 -3m0 6l-3 -3"></path>
                                </svg>
                                ç™»å½•
                            </a>
                            <a href="sign-up.html" class="dropdown-item text-success">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"></path>
                                    <path d="M16 19h6"></path>
                                    <path d="M19 16v6"></path>
                                    <path d="M6 21v-2a4 4 0 0 1 4 -4h4"></path>
                                </svg>
                                æ³¨å†Œ
                            </a>
                            <div class="dropdown-divider"></div>
                            <div class="dropdown-item text-muted small">æ¸¸å®¢æ¨¡å¼ï¼šä»…å¯æµè§ˆ</div>
                        </div>
                        <!-- å·²ç™»å½•ç”¨æˆ·èœå• -->
                        <div id="user_dropdown_menu">
                            <a href="javascript:void(0);" id="index_user_profile" class="dropdown-item">æˆ‘çš„å¸–å­</a>
                            <a href="javascript:void(0);" id="index_user_settings" class="dropdown-item">ä¸ªäººä¸­å¿ƒ</a>
                            <a href="javascript:void(0);" id="index_admin_center" class="dropdown-item" style="display: none;">ç®¡ç†ä¸­å¿ƒ</a>
                            <div class="dropdown-divider"></div>
                            <a id="index_user_logout" href="javascript:void(0);" class="dropdown-item"><span class="text-red">é€€å‡º</span></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- è®ºå›ç‰ˆå—å¯¼èˆª -->
    <header class="navbar-expand-md">
        <div class="collapse navbar-collapse" id="navbar-menu">
            <div class="navbar navbar-light">
                <div class="container-xl">
                    <ul id="topBoardList" class="navbar-nav">
                        <li class="nav-item active" id="nav_board_index">
                            <!-- é¦–é¡µ -->
                            <a class="nav-link" href="javascript:void(0);">
                  <span
                          class="nav-link-icon d-md-none d-lg-inline-block"><!-- Download SVG icon from http://tabler-icons.io/i/star -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                         stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                      <path
                              d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z" />
                    </svg>
                  </span>
                                <span class="nav-link-title">
                    é¦–é¡µ
                  </span>
                            </a>
                        </li>
                        <!-- å…¶ä»–ç‰ˆå—åŠ¨æ€ç”Ÿæˆ -->
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <!-- å¤´éƒ¨ å¯¼èˆª ç»“æŸ -->

    <!-- ========== ä¸»ä½“å†…å®¹åŒºåŸŸ ========== -->
    <div class="page-body-wrapper">
        <div class="container-xl">
            <div class="row">
                <!-- ä¸»å†…å®¹åŒº -->
                <div class="col-12">
                    <div class="main-content-card">
                        <!-- æ­£æ–‡éƒ¨åˆ†åŠ¨æ€åŠ è½½ -->
                        <div id="bit-forum-content">
                            <!-- åŠ¨æ€çš„æ·»åŠ HTMLä»£ç ç‰‡æ®µ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- page-wrapper ä¿ç•™ç”¨äºå…¼å®¹ -->
    <div class="page-wrapper d-none" id="page-wrapper"></div>

    <!-- ç«™å†…ä¿¡åŒºåŸŸ å¼€å§‹ -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="index_message_offcanvasEnd" aria-labelledby="offcanvasEndLabel" style="width: 650px">
        <div class="offcanvas-header">
            <h2 class="offcanvas-title" id="offcanvasEndLabel">æ‰€æœ‰ç«™å†…ä¿¡</h2>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body" id="index_div_message">
            <div class="list-group list-group-flush list-group-hoverable" id="index_div_message_list">
                <!-- ç«™å†…ä¿¡åˆ—è¡¨å¼€å§‹ åŠ¨æ€åŠ è½½ -->
                <!-- ç«™å†…ä¿¡åˆ—è¡¨ç»“æŸ -->
            </div>
        </div>
    </div>
    <!-- ç«™å†…ä¿¡åŒºåŸŸ ç»“æŸ -->

    <!-- ========== é¡µè„š ========== -->
    <footer class="footer footer-enhanced d-print-none">
        <div class="container-xl">
            <div class="row">
                <div class="col-md-4 footer-section">
                    <h6>ğŸ  å…³äºæˆ‘ä»¬</h6>
                    <p>ç éŸµæ™ºæ±‡æ ˆæ˜¯ä¸€ä¸ªé¢å‘å¼€å‘è€…çš„æŠ€æœ¯äº¤æµç¤¾åŒºï¼Œè‡´åŠ›äºä¸ºç¨‹åºå‘˜æä¾›ä¸€ä¸ªåˆ†äº«çŸ¥è¯†ã€äº¤æµç»éªŒã€å…±åŒæˆé•¿çš„å¹³å°ã€‚æˆ‘ä»¬ç›¸ä¿¡æŠ€æœ¯çš„åŠ›é‡ï¼ŒæœŸå¾…ä¸ä½ ä¸€èµ·æ¢ç´¢ä»£ç çš„æ— é™å¯èƒ½ã€‚</p>
                </div>
                <div class="col-md-2 footer-section">
                    <h6>ğŸ”— å¿«é€Ÿé“¾æ¥</h6>
                    <ul>
                        <li><a href="javascript:void(0);" id="footer_link_home">é¦–é¡µ</a></li>
                        <li><a href="javascript:void(0);" id="footer_link_profile">æˆ‘çš„å¸–å­</a></li>
                        <li><a href="javascript:void(0);" id="footer_link_settings">ä¸ªäººä¸­å¿ƒ</a></li>
                        <li><a href="javascript:void(0);">å¸®åŠ©ä¸­å¿ƒ</a></li>
                    </ul>
                </div>
                <div class="col-md-3 footer-section">
                    <h6>ğŸ“‚ çƒ­é—¨æ¿å—</h6>
                    <ul id="footer_hot_boards">
                        <li><a href="javascript:void(0);">Java</a></li>
                        <li><a href="javascript:void(0);">å‰ç«¯æŠ€æœ¯</a></li>
                        <li><a href="javascript:void(0);">æ•°æ®åº“</a></li>
                        <li><a href="javascript:void(0);">ç»éªŒåˆ†äº«</a></li>
                    </ul>
                </div>
                <div class="col-md-3 footer-section">
                    <h6>âš™ï¸ æŠ€æœ¯æ ˆ</h6>
                    <ul>
                        <li><a href="javascript:void(0);">Spring Boot 2.x</a></li>
                        <li><a href="javascript:void(0);">MyBatis</a></li>
                        <li><a href="javascript:void(0);">MySQL 8.0</a></li>
                        <li><a href="javascript:void(0);">Tabler UI</a></li>
                    </ul>
                </div>
            </div>
            <div class="row footer-bottom">
                <div class="col-md-6">
                    <span>Copyright Â© 2025 ç éŸµæ™ºæ±‡æ ˆ ç‰ˆæƒæ‰€æœ‰</span>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="https://gitee.com/yan-xiaochen/java-project.git" class="me-3" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="16" height="16" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"/></svg>
                        Gitee
                    </a>
                    <span>åŸºäº Spring Boot + MyBatis æ„å»º</span>
                </div>
            </div>
        </div>
    <!-- page é¡µé¢ç»“æŸ -->
</div>

<!-- æœç´¢å¼¹çª— -->
<div class="modal modal-blur fade" id="search_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content" style="border-radius: 16px; overflow: hidden; border: none; box-shadow: 0 25px 50px rgba(0,0,0,0.25);">
            <div class="modal-body p-0">
                <!-- æœç´¢è¾“å…¥åŒº -->
                <div style="padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <div class="input-group input-group-lg">
                        <span class="input-group-text" style="background: white; border: none; border-radius: 12px 0 0 12px;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="#667eea" fill="none">
                                <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path>
                                <path d="M21 21l-6 -6"></path>
                            </svg>
                        </span>
                        <input type="text" id="search_modal_input" class="form-control" placeholder="è¾“å…¥å…³é”®å­—æœç´¢å¸–å­..." style="border: none; font-size: 16px; padding: 12px 16px;" autofocus>
                        <button class="btn btn-light" type="button" id="btn_search_modal_submit" style="border: none; border-radius: 0 12px 12px 0; padding: 0 20px;">
                            æœç´¢
                        </button>
                    </div>
                    <div style="margin-top: 12px; display: flex; gap: 8px; flex-wrap: wrap;">
                        <span style="color: rgba(255,255,255,0.7); font-size: 13px;">çƒ­é—¨æœç´¢ï¼š</span>
                        <a href="javascript:void(0);" class="hot-search-tag" data-keyword="Java">Java</a>
                        <a href="javascript:void(0);" class="hot-search-tag" data-keyword="é¢è¯•">é¢è¯•</a>
                        <a href="javascript:void(0);" class="hot-search-tag" data-keyword="Spring">Spring</a>
                        <a href="javascript:void(0);" class="hot-search-tag" data-keyword="MySQL">MySQL</a>
                        <a href="javascript:void(0);" class="hot-search-tag" data-keyword="å‰ç«¯">å‰ç«¯</a>
                    </div>
                </div>
                <!-- æœç´¢æç¤º -->
                <div style="padding: 16px 20px; background: #f8f9fa; border-top: 1px solid #eee;">
                    <div style="display: flex; align-items: center; gap: 8px; color: #888; font-size: 13px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M12 16v-4"></path>
                            <path d="M12 8h.01"></path>
                        </svg>
                        <span>æŒ‰ <kbd style="background: #e9ecef; padding: 2px 6px; border-radius: 4px; font-size: 12px;">Enter</kbd> æœç´¢ï¼ŒæŒ‰ <kbd style="background: #e9ecef; padding: 2px 6px; border-radius: 4px; font-size: 12px;">Esc</kbd> å…³é—­</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<style>
    .hot-search-tag {
        background: rgba(255,255,255,0.2);
        color: white;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 12px;
        text-decoration: none;
        transition: all 0.2s;
    }
    .hot-search-tag:hover {
        background: rgba(255,255,255,0.35);
        color: white;
        transform: translateY(-1px);
    }
    #search_modal .modal-content {
        animation: searchModalIn 0.2s ease;
    }
    @keyframes searchModalIn {
        from { transform: scale(0.95); opacity: 0; }
        to { transform: scale(1); opacity: 1; }
    }
</style>

<!-- ç®¡ç†å‘˜-ç®¡ç†ä¸­å¿ƒå…¥å£å¼¹çª— -->
<div class="modal modal-blur fade" id="admin_board_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-settings me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"></path>
                        <path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"></path>
                    </svg>
                    ç®¡ç†ä¸­å¿ƒ
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row g-3">
                    <!-- æ–°å¢æ¿å— -->
                    <div class="col-6">
                        <div class="card card-sm cursor-pointer admin-func-card" data-bs-toggle="modal" data-bs-target="#admin_create_board_modal" data-bs-dismiss="modal">
                            <div class="card-body text-center py-4">
                                <div class="mb-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-plus text-primary" width="48" height="48" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                        <path d="M12 5l0 14"></path>
                                        <path d="M5 12l14 0"></path>
                                    </svg>
                                </div>
                                <div class="fw-bold">æ–°å¢æ¿å—</div>
                                <div class="text-muted small">åˆ›å»ºæ–°çš„è®¨è®ºæ¿å—</div>
                            </div>
                        </div>
                    </div>
                    <!-- åˆ é™¤æ¿å— -->
                    <div class="col-6">
                        <div class="card card-sm cursor-pointer admin-func-card" data-bs-toggle="modal" data-bs-target="#admin_delete_board_modal" data-bs-dismiss="modal">
                            <div class="card-body text-center py-4">
                                <div class="mb-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-folder-minus text-danger" width="48" height="48" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                        <path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"></path>
                                        <path d="M9 13l6 0"></path>
                                    </svg>
                                </div>
                                <div class="fw-bold">åˆ é™¤æ¿å—</div>
                                <div class="text-muted small">ç§»é™¤ç°æœ‰æ¿å—</div>
                            </div>
                        </div>
                    </div>
                    <!-- åˆ é™¤å¸–å­ -->
                    <div class="col-6">
                        <div class="card card-sm cursor-pointer admin-func-card" data-bs-toggle="modal" data-bs-target="#admin_delete_article_modal" data-bs-dismiss="modal">
                            <div class="card-body text-center py-4">
                                <div class="mb-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash text-orange" width="48" height="48" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                        <path d="M4 7l16 0"></path>
                                        <path d="M10 11l0 6"></path>
                                        <path d="M14 11l0 6"></path>
                                        <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path>
                                        <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path>
                                    </svg>
                                </div>
                                <div class="fw-bold">åˆ é™¤å¸–å­</div>
                                <div class="text-muted small">åˆ é™¤è¿è§„å¸–å­</div>
                            </div>
                        </div>
                    </div>
                    <!-- ç”¨æˆ·ç®¡ç† -->
                    <div class="col-6">
                        <div class="card card-sm cursor-pointer admin-func-card" data-bs-toggle="modal" data-bs-target="#admin_user_manage_modal" data-bs-dismiss="modal">
                            <div class="card-body text-center py-4">
                                <div class="mb-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user-exclamation text-warning" width="48" height="48" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                        <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"></path>
                                        <path d="M6 21v-2a4 4 0 0 1 4 -4h4c.348 0 .686 .045 1.008 .128"></path>
                                        <path d="M19 16v3"></path>
                                        <path d="M19 22v.01"></path>
                                    </svg>
                                </div>
                                <div class="fw-bold">ç”¨æˆ·ç®¡ç†</div>
                                <div class="text-muted small">ç¦è¨€/è§£ç¦ç”¨æˆ·</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn" data-bs-dismiss="modal">å…³é—­</button>
            </div>
        </div>
    </div>
</div>

<!-- ç®¡ç†å‘˜-æ–°å¢æ¿å—å¼¹çª— -->
<div class="modal modal-blur fade" id="admin_create_board_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 5l0 14"></path><path d="M5 12l14 0"></path></svg>
                    æ–°å¢æ¿å—
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="form-label">æ¿å—åç§° <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="admin_board_name" placeholder="è¯·è¾“å…¥æ¿å—åç§°">
                    <div class="form-text">æ¿å—åç§°å°†æ˜¾ç¤ºåœ¨å¯¼èˆªæ ä¸­</div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å–æ¶ˆ</button>
                <button class="btn btn-primary" type="button" id="btn_admin_create_board">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 5l0 14"></path><path d="M5 12l14 0"></path></svg>
                    åˆ›å»ºæ¿å—
                </button>
            </div>
        </div>
    </div>
</div>

<!-- ç®¡ç†å‘˜-åˆ é™¤æ¿å—å¼¹çª— -->
<div class="modal modal-blur fade" id="admin_delete_board_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"></path><path d="M9 13l6 0"></path></svg>
                    åˆ é™¤æ¿å—
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-warning" role="alert">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon alert-icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 9v2m0 4v.01"></path><path d="M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.5 0l-7.1 12.25a2 2 0 0 0 1.75 2.75"></path></svg>
                    åˆ é™¤æ¿å—åï¼Œè¯¥æ¿å—ä¸‹çš„æ‰€æœ‰å¸–å­å°†è¢«ç§»è‡³é»˜è®¤æ¿å—
                </div>
                <div class="mb-3">
                    <label class="form-label">é€‰æ‹©è¦åˆ é™¤çš„æ¿å— <span class="text-danger">*</span></label>
                    <select class="form-select" id="admin_board_delete_select">
                        <option value="">è¯·é€‰æ‹©è¦åˆ é™¤çš„æ¿å—</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å–æ¶ˆ</button>
                <button class="btn btn-danger" type="button" id="btn_admin_delete_board">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg>
                    ç¡®è®¤åˆ é™¤
                </button>
            </div>
        </div>
    </div>
</div>

<!-- ç®¡ç†å‘˜-åˆ é™¤å¸–å­å¼¹çª— -->
<div class="modal modal-blur fade" id="admin_delete_article_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header bg-orange text-white">
                <h5 class="modal-title">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg>
                    åˆ é™¤å¸–å­
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-warning" role="alert">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon alert-icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 9v2m0 4v.01"></path><path d="M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.5 0l-7.1 12.25a2 2 0 0 0 1.75 2.75"></path></svg>
                    åˆ é™¤å¸–å­åå°†æ— æ³•æ¢å¤ï¼Œè¯·è°¨æ…æ“ä½œ
                </div>
                <div class="mb-3">
                    <label class="form-label">é€‰æ‹©è¦åˆ é™¤çš„å¸–å­ <span class="text-danger">*</span></label>
                    <select class="form-select" id="admin_article_delete_select">
                        <option value="">è¯·é€‰æ‹©è¦åˆ é™¤çš„å¸–å­</option>
                    </select>
                    <div class="form-text">æ˜¾ç¤ºæ ¼å¼ï¼š[ä½œè€…] å¸–å­æ ‡é¢˜</div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å–æ¶ˆ</button>
                <button class="btn btn-danger" type="button" id="btn_admin_delete_article">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg>
                    ç¡®è®¤åˆ é™¤
                </button>
            </div>
        </div>
    </div>
</div>

<!-- ç®¡ç†å‘˜-ç”¨æˆ·ç®¡ç†å¼¹çª— -->
<div class="modal modal-blur fade" id="admin_user_manage_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header bg-warning">
                <h5 class="modal-title">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"></path><path d="M6 21v-2a4 4 0 0 1 4 -4h4c.348 0 .686 .045 1.008 .128"></path><path d="M19 16v3"></path><path d="M19 22v.01"></path></svg>
                    ç”¨æˆ·ç®¡ç†
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-info" role="alert">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon alert-icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path><path d="M12 9h.01"></path><path d="M11 12h1v4h1"></path></svg>
                    ç¦è¨€ç”¨æˆ·å°†æ— æ³•å‘å¸–å’Œå›å¤ï¼Œè§£ç¦åæ¢å¤æ­£å¸¸
                </div>
                <div class="mb-3">
                    <label class="form-label">é€‰æ‹©è¦ç¦è¨€çš„ç”¨æˆ·</label>
                    <select class="form-select" id="admin_ban_user_select">
                        <option value="">è¯·é€‰æ‹©è¦ç¦è¨€çš„ç”¨æˆ·</option>
                    </select>
                    <div class="form-text">æ˜¾ç¤ºæ‰€æœ‰æ­£å¸¸çŠ¶æ€çš„ç”¨æˆ·</div>
                </div>
                <div class="d-grid mb-4">
                    <button class="btn btn-danger" type="button" id="btn_admin_ban_user">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M15 8a5 5 0 0 1 1.912 4.934m-1.377 2.602a5 5 0 0 1 -.535 .464"></path><path d="M17.7 5a9 9 0 0 1 2.362 11.086m-1.676 2.299a9 9 0 0 1 -.686 .615"></path><path d="M9.069 5.054l.431 -.554a.8 .8 0 0 1 1.5 .5v2m0 4v8a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l1.294 -1.664"></path><path d="M3 3l18 18"></path></svg>
                        ç¦è¨€ç”¨æˆ·
                    </button>
                </div>
                <hr class="my-3">
                <div class="mb-3">
                    <label class="form-label">é€‰æ‹©è¦è§£ç¦çš„ç”¨æˆ·</label>
                    <select class="form-select" id="admin_unban_user_select">
                        <option value="">è¯·é€‰æ‹©è¦è§£ç¦çš„ç”¨æˆ·</option>
                    </select>
                    <div class="form-text">æ˜¾ç¤ºæ‰€æœ‰å·²ç¦è¨€çš„ç”¨æˆ·</div>
                </div>
                <div class="d-grid">
                    <button class="btn btn-success" type="button" id="btn_admin_unban_user">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M15 8a5 5 0 0 1 0 8"></path><path d="M17.7 5a9 9 0 0 1 0 14"></path><path d="M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5"></path></svg>
                        è§£ç¦ç”¨æˆ·
                    </button>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å…³é—­</button>
            </div>
        </div>
    </div>
</div>

<!-- é«˜çº§æŸ¥è¯¢å…¥å£å¼¹çª— -->
<div class="modal modal-blur fade" id="advanced_search_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path>
                        <path d="M21 21l-6 -6"></path>
                    </svg>
                    é«˜çº§æŸ¥è¯¢ä¸­å¿ƒ
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row g-3">
                    <!-- å¤šæ¡ä»¶äº¤å‰æŸ¥è¯¢ -->
                    <div class="col-12">
                        <div class="card card-sm cursor-pointer admin-func-card" data-bs-toggle="modal" data-bs-target="#multi_condition_search_modal" data-bs-dismiss="modal">
                            <div class="card-body py-3">
                                <div class="d-flex align-items-center">
                                    <div class="me-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-filter text-primary" width="48" height="48" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <path d="M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"></path>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="fw-bold">å¤šæ¡ä»¶äº¤å‰æŸ¥è¯¢</div>
                                        <div class="text-muted small">æ”¯æŒæ ‡é¢˜ã€å†…å®¹ã€ä½œè€…ã€æ¿å—ã€æ—¥æœŸç­‰å¤šæ¡ä»¶ç»„åˆï¼Œå¯é€‰AND/ORæ¨¡å¼</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- æ¨¡ç³ŠæŸ¥è¯¢ -->
                    <div class="col-12">
                        <div class="card card-sm cursor-pointer admin-func-card" data-bs-toggle="modal" data-bs-target="#fuzzy_search_modal" data-bs-dismiss="modal">
                            <div class="card-body py-3">
                                <div class="d-flex align-items-center">
                                    <div class="me-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-text-recognition text-success" width="48" height="48" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <path d="M4 8v-2a2 2 0 0 1 2 -2h2"></path>
                                            <path d="M4 16v2a2 2 0 0 0 2 2h2"></path>
                                            <path d="M16 4h2a2 2 0 0 1 2 2v2"></path>
                                            <path d="M16 20h2a2 2 0 0 0 2 -2v-2"></path>
                                            <path d="M12 8l4 8"></path>
                                            <path d="M8 8l4 8"></path>
                                            <path d="M9 13h6"></path>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="fw-bold">æ¨¡ç³ŠæŸ¥è¯¢</div>
                                        <div class="text-muted small">è¾“å…¥å…³é”®å­—ï¼Œåœ¨æ ‡é¢˜å’Œå†…å®¹ä¸­è¿›è¡Œæ¨¡ç³ŠåŒ¹é…æœç´¢</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- ç»“æœä¸­æŸ¥è¯¢ -->
                    <div class="col-12">
                        <div class="card card-sm cursor-pointer admin-func-card" id="card_search_in_result" data-bs-toggle="modal" data-bs-target="#search_in_result_modal" data-bs-dismiss="modal">
                            <div class="card-body py-3">
                                <div class="d-flex align-items-center">
                                    <div class="me-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-list-search text-orange" width="48" height="48" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <path d="M15 15m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"></path>
                                            <path d="M18.5 18.5l2.5 2.5"></path>
                                            <path d="M4 6h16"></path>
                                            <path d="M4 12h4"></path>
                                            <path d="M4 18h4"></path>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="fw-bold">ç»“æœä¸­æŸ¥è¯¢</div>
                                        <div class="text-muted small">åœ¨å½“å‰æœç´¢ç»“æœä¸­ç»§ç»­ç­›é€‰ï¼Œé€æ­¥ç¼©å°èŒƒå›´</div>
                                        <div class="text-muted small" id="current_result_count_tip"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn" data-bs-dismiss="modal">å…³é—­</button>
            </div>
        </div>
    </div>
</div>

<!-- å¤šæ¡ä»¶äº¤å‰æŸ¥è¯¢å¼¹çª— -->
<div class="modal modal-blur fade" id="multi_condition_search_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"></path></svg>
                    å¤šæ¡ä»¶äº¤å‰æŸ¥è¯¢
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-info" role="alert">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon alert-icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path><path d="M12 9h.01"></path><path d="M11 12h1v4h1"></path></svg>
                    æ”¯æŒå¤šä¸ªæ¡ä»¶ç»„åˆæŸ¥è¯¢ï¼ŒANDæ¨¡å¼è¦æ±‚æ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³ï¼ŒORæ¨¡å¼åªéœ€æ»¡è¶³ä»»ä¸€æ¡ä»¶
                </div>
                <!-- æ ‡é¢˜å…³é”®å­— -->
                <div class="mb-3">
                    <label class="form-label">æ ‡é¢˜å…³é”®å­—</label>
                    <input type="text" class="form-control" id="adv_search_title" placeholder="è¾“å…¥æ ‡é¢˜å…³é”®å­—">
                </div>
                <!-- å†…å®¹å…³é”®å­— -->
                <div class="mb-3">
                    <label class="form-label">å†…å®¹å…³é”®å­—</label>
                    <input type="text" class="form-control" id="adv_search_content" placeholder="è¾“å…¥å†…å®¹å…³é”®å­—">
                </div>
                <!-- ä½œè€…æ˜µç§° -->
                <div class="mb-3">
                    <label class="form-label">ä½œè€…æ˜µç§°</label>
                    <input type="text" class="form-control" id="adv_search_author" placeholder="è¾“å…¥ä½œè€…æ˜µç§°">
                </div>
                <!-- æ‰€å±æ¿å— -->
                <div class="mb-3">
                    <label class="form-label">æ‰€å±æ¿å—</label>
                    <select class="form-select" id="adv_search_board">
                        <option value="">å…¨éƒ¨æ¿å—</option>
                    </select>
                </div>
                <!-- æ—¥æœŸèŒƒå›´ -->
                <div class="row mb-3">
                    <div class="col-6">
                        <label class="form-label">å¼€å§‹æ—¥æœŸ</label>
                        <input type="date" class="form-control" id="adv_search_start_date">
                    </div>
                    <div class="col-6">
                        <label class="form-label">ç»“æŸæ—¥æœŸ</label>
                        <input type="date" class="form-control" id="adv_search_end_date">
                    </div>
                </div>
                <!-- æŸ¥è¯¢æ–¹å¼ -->
                <div class="mb-3">
                    <label class="form-label">æŸ¥è¯¢æ–¹å¼</label>
                    <div class="btn-group w-100" role="group">
                        <input type="radio" class="btn-check" name="search_type" id="search_type_and" value="and" checked>
                        <label class="btn btn-outline-primary" for="search_type_and">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3"></path><path d="M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3 -3l3 -3"></path></svg>
                            å…¨éƒ¨æ»¡è¶³ (AND)
                        </label>
                        <input type="radio" class="btn-check" name="search_type" id="search_type_or" value="or">
                        <label class="btn btn-outline-success" for="search_type_or">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M3 17h5l1.67 -2.386m3.66 -5.227l1.67 -2.387h5"></path><path d="M3 7h5l7 10h5"></path></svg>
                            ä»»æ„æ»¡è¶³ (OR)
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="btn_multi_search_reset">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"></path><path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"></path></svg>
                    é‡ç½®
                </button>
                <button class="btn btn-primary" type="button" id="btn_multi_search">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path><path d="M21 21l-6 -6"></path></svg>
                    å¼€å§‹æŸ¥è¯¢
                </button>
            </div>
        </div>
    </div>
</div>

<!-- æ¨¡ç³ŠæŸ¥è¯¢å¼¹çª— -->
<div class="modal modal-blur fade" id="fuzzy_search_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header bg-success text-white">
                <h5 class="modal-title">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 8v-2a2 2 0 0 1 2 -2h2"></path><path d="M4 16v2a2 2 0 0 0 2 2h2"></path><path d="M16 4h2a2 2 0 0 1 2 2v2"></path><path d="M16 20h2a2 2 0 0 0 2 -2v-2"></path><path d="M12 8l4 8"></path><path d="M8 8l4 8"></path><path d="M9 13h6"></path></svg>
                    æ¨¡ç³ŠæŸ¥è¯¢
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-success" role="alert">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon alert-icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path><path d="M12 9h.01"></path><path d="M11 12h1v4h1"></path></svg>
                    è¾“å…¥å…³é”®å­—ï¼Œç³»ç»Ÿå°†åœ¨å¸–å­æ ‡é¢˜å’Œå†…å®¹ä¸­è¿›è¡Œæ¨¡ç³ŠåŒ¹é…
                </div>
                <div class="mb-3">
                    <label class="form-label">æœç´¢å…³é”®å­— <span class="text-danger">*</span></label>
                    <input type="text" class="form-control form-control-lg" id="fuzzy_search_keyword" placeholder="è¯·è¾“å…¥è¦æœç´¢çš„å…³é”®å­—">
                    <div class="form-text">æ”¯æŒéƒ¨åˆ†åŒ¹é…ï¼Œä¾‹å¦‚è¾“å…¥"Java"å¯ä»¥åŒ¹é…åˆ°"JavaScript"ã€"Javaå¼€å‘"ç­‰</div>
                </div>
                <div class="mb-3">
                    <label class="form-label">æœç´¢èŒƒå›´</label>
                    <div class="form-selectgroup">
                        <label class="form-selectgroup-item">
                            <input type="checkbox" name="fuzzy_scope" value="title" class="form-selectgroup-input" checked>
                            <span class="form-selectgroup-label">æ ‡é¢˜</span>
                        </label>
                        <label class="form-selectgroup-item">
                            <input type="checkbox" name="fuzzy_scope" value="content" class="form-selectgroup-input" checked>
                            <span class="form-selectgroup-label">å†…å®¹</span>
                        </label>
                        <label class="form-selectgroup-item">
                            <input type="checkbox" name="fuzzy_scope" value="author" class="form-selectgroup-input">
                            <span class="form-selectgroup-label">ä½œè€…</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å–æ¶ˆ</button>
                <button class="btn btn-success" type="button" id="btn_fuzzy_search">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path><path d="M21 21l-6 -6"></path></svg>
                    æœç´¢
                </button>
            </div>
        </div>
    </div>
</div>

<!-- ç»“æœä¸­æŸ¥è¯¢å¼¹çª— -->
<div class="modal modal-blur fade" id="search_in_result_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header bg-orange text-white">
                <h5 class="modal-title">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M15 15m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"></path><path d="M18.5 18.5l2.5 2.5"></path><path d="M4 6h16"></path><path d="M4 12h4"></path><path d="M4 18h4"></path></svg>
                    ç»“æœä¸­æŸ¥è¯¢
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-warning" role="alert" id="result_search_alert">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon alert-icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 9v2m0 4v.01"></path><path d="M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.5 0l-7.1 12.25a2 2 0 0 0 1.75 2.75"></path></svg>
                    <span id="result_search_tip">å½“å‰æ²¡æœ‰æœç´¢ç»“æœï¼Œè¯·å…ˆè¿›è¡Œä¸€æ¬¡æŸ¥è¯¢</span>
                </div>
                <div class="mb-3">
                    <label class="form-label">åœ¨ç»“æœä¸­æœç´¢ <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="result_search_keyword" placeholder="è¾“å…¥å…³é”®å­—åœ¨å½“å‰ç»“æœä¸­ç­›é€‰">
                    <div class="form-text">å°†åœ¨å½“å‰ <span id="current_result_count" class="fw-bold text-primary">0</span> æ¡ç»“æœä¸­è¿›è¡Œç­›é€‰</div>
                </div>
                <div class="mb-3">
                    <label class="form-label">ç­›é€‰å­—æ®µ</label>
                    <div class="form-selectgroup">
                        <label class="form-selectgroup-item">
                            <input type="checkbox" name="result_scope" value="title" class="form-selectgroup-input" checked>
                            <span class="form-selectgroup-label">æ ‡é¢˜</span>
                        </label>
                        <label class="form-selectgroup-item">
                            <input type="checkbox" name="result_scope" value="content" class="form-selectgroup-input" checked>
                            <span class="form-selectgroup-label">å†…å®¹</span>
                        </label>
                        <label class="form-selectgroup-item">
                            <input type="checkbox" name="result_scope" value="author" class="form-selectgroup-input">
                            <span class="form-selectgroup-label">ä½œè€…</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å–æ¶ˆ</button>
                <button class="btn btn-orange" type="button" id="btn_search_in_result">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path><path d="M21 21l-6 -6"></path></svg>
                    ç­›é€‰
                </button>
            </div>
        </div>
    </div>
</div>

<!-- å‘é€ç«™å†…ä¿¡æ¨¡æ€æ¡† -->
    <div class="modal modal-blur fade" id="index_message_modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">å‘é€ç«™å†…ä¿¡</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <div>
                                <input type="text" style="display: none;" id="index_message_receive_user_id">
                                <label class="form-label" id="index_message_receive_user_name">å‘é€ç»™: </label>
                                <textarea class="form-control" rows="5" id="index_message_receive_content"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <a href="javascript:void(0);" class="btn me-auto" data-bs-dismiss="modal" id="index_message_receive_cancel">
                        å–æ¶ˆ
                    </a>
                    <a href="javascript:void(0);" class="btn btn-primary ms-auto" data-bs-dismiss="modal" id="btn_index_send_message">
                        <!-- Download SVG icon from http://tabler-icons.io/i/plus -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-send" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M10 14l11 -11"></path>
                            <path d="M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5"></path>
                        </svg>
                        å‘é€
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- é˜…è¯»å’Œå›å¤ç«™å†…ä¿¡æ¨¡æ€æ¡† -->
    <div class="modal modal-blur fade" id="index_message_reply_modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="index_message_detail_title">ç«™å†…ä¿¡è¯¦æƒ…</h5>
                    <input type="text" style="display: none;" id="index_message_detail_id">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <div>
                                <p id="index_message_detail_content"></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-body" style="display: none;" id="index_message_reply_div">
                    <div class="row">
                        <div class="col-lg-12">
                            <div>
                                <input type="text" style="display: none;" id="index_message_reply_receive_user_id">
                                <label class="form-label" id="index_message_reply_receive_user_name">å›å¤ç»™: </label>
                                <textarea class="form-control" rows="5" id="index_message_reply_receive_content" placeholder="è¯·è¾“å…¥å›å¤å†…å®¹"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <a href="javascript:void(0);" class="btn me-auto" data-bs-dismiss="modal" id="index_message_reply_cancel">
                        å–æ¶ˆ
                    </a>
                    <a href="javascript:void(0);" class="btn btn-primary ms-auto" id="btn_index_message_reply">
                        <!-- Download SVG icon from http://tabler-icons.io/i/plus -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-message" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M8 9h8"></path>
                            <path d="M8 13h6"></path>
                            <path d="M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"></path>
                        </svg>
                        å›å¤
                    </a>
                    <a href="javascript:void(0);" class="btn btn-primary ms-auto" data-bs-dismiss="modal" id="btn_index_send_message_reply" style="display: none;">
                        <!-- Download SVG icon from http://tabler-icons.io/i/plus -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-send" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M10 14l11 -11"></path>
                            <path d="M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5"></path>
                        </svg>
                        å‘é€
                    </a>
                </div>
            </div>
        </div>
    </div>
    <!-- </body> -->
    <!-- å¯¼å…¥JS -->
    <script src="./dist/js/jquery-3.6.3.min.js"></script>
    <script src="./dist/js/tabler.min.js"></script>
    <script src="./dist/js/theme.min.js"></script>

    <script src="./dist/js/jquery.toast.js"></script>
    <script src="./js/common.js"></script>
    <!-- ç¼–è¾‘å™¨ -->
    <script src="./dist/editor.md/editormd.min.js"></script>
    <script src="./dist/editor.md/lib/marked.min.js"></script>
    <script src="./dist/editor.md/lib/prettify.min.js"></script>
    <script src="./dist/libs/tinymce/tinymce.min.js" defer></script>
    <script>
        $(function () {
            // ========================= æœç´¢åŠŸèƒ½ =========================
            // æ‰“å¼€æœç´¢å¼¹çª—çš„å‡½æ•°
            function openSearchModal() {
                $('#search_modal').modal('show');
                // å¦‚æœé¡¶éƒ¨æœç´¢æ¡†æœ‰å€¼ï¼ŒåŒæ­¥åˆ°å¼¹çª—è¾“å…¥æ¡†
                let currentKeyword = $('#searchKeyword').val();
                if (currentKeyword) {
                    $('#search_modal_input').val(currentKeyword);
                }
                setTimeout(function() {
                    $('#search_modal_input').focus().select();
                }, 200);
            }
            
            // ç‚¹å‡»æœç´¢æ¡†æ‰“å¼€æœç´¢å¼¹çª—
            $('#searchKeyword').click(function() {
                openSearchModal();
            });
            
            // ç‚¹å‡»æ”¾å¤§é•œå›¾æ ‡ä¹Ÿæ‰“å¼€æœç´¢å¼¹çª—
            $('#searchIconBtn').click(function() {
                openSearchModal();
            });
            
            // æ‰§è¡Œæœç´¢çš„å‡½æ•°
            function doSearch() {
                let keyword = $('#search_modal_input').val().trim();
                if (!keyword) {
                    $.toast({ heading: 'æç¤º', text: 'è¯·è¾“å…¥æœç´¢å…³é”®å­—', icon: 'warning' });
                    return;
                }
                // åŒæ­¥åˆ°é¡¶éƒ¨æœç´¢æ¡†
                $('#searchKeyword').val(keyword);
                // å…³é—­å¼¹çª—
                $('#search_modal').modal('hide');
                
                $.ajax({
                    type: 'get',
                    url: 'article/search',
                    data: { keyword: keyword },
                    success: function(respData) {
                        if (respData.code == 0) {
                            showSearchResults(respData.data, 'æœç´¢ç»“æœ: ' + keyword);
                            currentSearchResults = respData.data;
                        } else {
                            $.toast({ heading: 'è­¦å‘Š', text: respData.message, icon: 'warning' });
                        }
                    },
                    error: function() {
                        $.toast({ heading: 'é”™è¯¯', text: 'æœç´¢å¤±è´¥ï¼Œè¯·ä¸ç®¡ç†å‘˜è”ç³».', icon: 'error' });
                    }
                });
            }
            
            // å¼¹çª—å…³é—­æ—¶æ¸…ç©ºè¾“å…¥æ¡†å’Œé¡¶éƒ¨æœç´¢æ¡†
            $('#search_modal').on('hidden.bs.modal', function() {
                $('#search_modal_input').val('');
                $('#searchKeyword').val('');
            });
            
            // ç‚¹å‡»æœç´¢æŒ‰é’®
            $('#btn_search_modal_submit').click(function() {
                doSearch();
            });
            
            // ç›‘å¬æœç´¢å¼¹çª—è¾“å…¥æ¡†çš„å›è½¦é”®
            $('#search_modal_input').keypress(function(e) {
                if (e.which == 13) {
                    doSearch();
                    return false;
                }
            });
            
            // çƒ­é—¨æœç´¢æ ‡ç­¾ç‚¹å‡»
            $('.hot-search-tag').click(function() {
                let keyword = $(this).data('keyword');
                $('#search_modal_input').val(keyword);
                doSearch();
            });

            // æ‰“å¼€é«˜çº§æŸ¥è¯¢æ¨¡æ€æ¡†
            $('#btn_open_adv_search').click(function(e) {
                e.preventDefault();
                console.log('é«˜çº§æŸ¥è¯¢æŒ‰é’®è¢«ç‚¹å‡»');
                console.log('æ¨¡æ€æ¡†å…ƒç´ :', document.getElementById('advanced_search_modal'));
                try {
                    $('#advanced_search_modal').modal('show');
                    console.log('modal show å·²è°ƒç”¨');
                } catch(err) {
                    console.error('æ¨¡æ€æ¡†æ‰“å¼€å¤±è´¥:', err);
                }
            });

            // ========================= é«˜çº§æŸ¥è¯¢åŠŸèƒ½ =========================
            // å­˜å‚¨å½“å‰æœç´¢ç»“æœï¼ˆç”¨äº"ç»“æœä¸­æŸ¥è¯¢"ï¼‰
            var currentSearchResults = [];

            // åŠ è½½æ¿å—åˆ—è¡¨åˆ°é«˜çº§æŸ¥è¯¢ä¸‹æ‹‰æ¡†
            function loadBoardsToAdvSearchSelect() {
                $.ajax({
                    type: 'get',
                    url: 'board/topList',
                    success: function(respData) {
                        if (respData.code == 0) {
                            let selectEl = $('#adv_search_board');
                            respData.data.forEach(function(board) {
                                selectEl.append('<option value="' + board.id + '">' + board.name + '</option>');
                            });
                        }
                    }
                });
            }
            // é¡µé¢åŠ è½½æ—¶è°ƒç”¨
            loadBoardsToAdvSearchSelect();

            // æ›´æ–°ç»“æœä¸­æŸ¥è¯¢çš„æç¤ºä¿¡æ¯
            function updateResultSearchTip() {
                let count = currentSearchResults.length;
                $('#current_result_count').text(count);
                if (count > 0) {
                    $('#result_search_alert').removeClass('alert-warning').addClass('alert-info');
                    $('#result_search_tip').text('å½“å‰æœ‰ ' + count + ' æ¡æœç´¢ç»“æœå¯ä¾›ç­›é€‰');
                    $('#current_result_count_tip').text('(å½“å‰æœ‰ ' + count + ' æ¡ç»“æœ)');
                } else {
                    $('#result_search_alert').removeClass('alert-info').addClass('alert-warning');
                    $('#result_search_tip').text('å½“å‰æ²¡æœ‰æœç´¢ç»“æœï¼Œè¯·å…ˆè¿›è¡Œä¸€æ¬¡æŸ¥è¯¢');
                    $('#current_result_count_tip').text('');
                }
            }

            // æ‰“å¼€ç»“æœä¸­æŸ¥è¯¢å¼¹çª—æ—¶æ›´æ–°æç¤º
            $('#search_in_result_modal').on('show.bs.modal', function() {
                updateResultSearchTip();
            });

            // ============================ å¤šæ¡ä»¶äº¤å‰æŸ¥è¯¢ ============================
            $('#btn_multi_search').click(function() {
                let title = $('#adv_search_title').val().trim();
                let content = $('#adv_search_content').val().trim();
                let author = $('#adv_search_author').val().trim();
                let boardId = $('#adv_search_board').val();
                let startDate = $('#adv_search_start_date').val();
                let endDate = $('#adv_search_end_date').val();
                let searchType = $('input[name="search_type"]:checked').val();

                // è‡³å°‘è¾“å…¥ä¸€ä¸ªæŸ¥è¯¢æ¡ä»¶
                if (!title && !content && !author && !boardId && !startDate && !endDate) {
                    $.toast({
                        heading: 'æç¤º',
                        text: 'è¯·è‡³å°‘è¾“å…¥ä¸€ä¸ªæŸ¥è¯¢æ¡ä»¶',
                        icon: 'warning'
                    });
                    return;
                }

                // æ„é€ è¯·æ±‚å‚æ•°
                let params = {
                    title: title,
                    content: content,
                    author: author,
                    boardId: boardId,
                    startDate: startDate,
                    endDate: endDate,
                    searchType: searchType
                };

                // å‘é€è¯·æ±‚
                $.ajax({
                    type: 'get',
                    url: 'article/advancedSearch',
                    data: params,
                    success: function(respData) {
                        if (respData.code == 0) {
                            let results = respData.data;
                            // ä¿å­˜å½“å‰æœç´¢ç»“æœ
                            currentSearchResults = results;
                            // å…³é—­å¼¹çª—
                            $('#multi_condition_search_modal').modal('hide');
                            // æ˜¾ç¤ºç»“æœ
                            showSearchResults(results, 'å¤šæ¡ä»¶äº¤å‰æŸ¥è¯¢ç»“æœ');
                        } else {
                            $.toast({
                                heading: 'è­¦å‘Š',
                                text: respData.message,
                                icon: 'warning'
                            });
                        }
                    },
                    error: function() {
                        $.toast({
                            heading: 'é”™è¯¯',
                            text: 'æŸ¥è¯¢å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•',
                            icon: 'error'
                        });
                    }
                });
            });

            // å¤šæ¡ä»¶æŸ¥è¯¢é‡ç½®æŒ‰é’®
            $('#btn_multi_search_reset').click(function() {
                $('#adv_search_title').val('');
                $('#adv_search_content').val('');
                $('#adv_search_author').val('');
                $('#adv_search_board').val('');
                $('#adv_search_start_date').val('');
                $('#adv_search_end_date').val('');
                $('#search_type_and').prop('checked', true);
            });

            // ============================ æ¨¡ç³ŠæŸ¥è¯¢ ============================
            $('#btn_fuzzy_search').click(function() {
                let keyword = $('#fuzzy_search_keyword').val().trim();
                if (!keyword) {
                    $.toast({
                        heading: 'æç¤º',
                        text: 'è¯·è¾“å…¥æœç´¢å…³é”®å­—',
                        icon: 'warning'
                    });
                    $('#fuzzy_search_keyword').focus();
                    return;
                }

                // è·å–æœç´¢èŒƒå›´
                let scopes = [];
                $('input[name="fuzzy_scope"]:checked').each(function() {
                    scopes.push($(this).val());
                });

                if (scopes.length === 0) {
                    $.toast({
                        heading: 'æç¤º',
                        text: 'è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªæœç´¢èŒƒå›´',
                        icon: 'warning'
                    });
                    return;
                }

                // æ„é€ è¯·æ±‚å‚æ•°
                let params = {
                    searchType: 'or'
                };
                if (scopes.includes('title')) params.title = keyword;
                if (scopes.includes('content')) params.content = keyword;
                if (scopes.includes('author')) params.author = keyword;

                // å‘é€è¯·æ±‚
                $.ajax({
                    type: 'get',
                    url: 'article/advancedSearch',
                    data: params,
                    success: function(respData) {
                        if (respData.code == 0) {
                            let results = respData.data;
                            // ä¿å­˜å½“å‰æœç´¢ç»“æœ
                            currentSearchResults = results;
                            // å…³é—­å¼¹çª—
                            $('#fuzzy_search_modal').modal('hide');
                            // æ¸…ç©ºè¾“å…¥
                            $('#fuzzy_search_keyword').val('');
                            // æ˜¾ç¤ºç»“æœ
                            showSearchResults(results, 'æ¨¡ç³ŠæŸ¥è¯¢ç»“æœ - "' + keyword + '"');
                        } else {
                            $.toast({
                                heading: 'è­¦å‘Š',
                                text: respData.message,
                                icon: 'warning'
                            });
                        }
                    },
                    error: function() {
                        $.toast({
                            heading: 'é”™è¯¯',
                            text: 'æŸ¥è¯¢å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•',
                            icon: 'error'
                        });
                    }
                });
            });

            // ============================ ç»“æœä¸­æŸ¥è¯¢ ============================
            $('#btn_search_in_result').click(function() {
                let keyword = $('#result_search_keyword').val().trim();
                if (!keyword) {
                    $.toast({
                        heading: 'æç¤º',
                        text: 'è¯·è¾“å…¥ç­›é€‰å…³é”®å­—',
                        icon: 'warning'
                    });
                    $('#result_search_keyword').focus();
                    return;
                }

                if (currentSearchResults.length === 0) {
                    $.toast({
                        heading: 'æç¤º',
                        text: 'å½“å‰æ²¡æœ‰æœç´¢ç»“æœï¼Œè¯·å…ˆè¿›è¡Œä¸€æ¬¡æŸ¥è¯¢',
                        icon: 'warning'
                    });
                    return;
                }

                // è·å–ç­›é€‰èŒƒå›´
                let scopes = [];
                $('input[name="result_scope"]:checked').each(function() {
                    scopes.push($(this).val());
                });

                if (scopes.length === 0) {
                    $.toast({
                        heading: 'æç¤º',
                        text: 'è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªç­›é€‰å­—æ®µ',
                        icon: 'warning'
                    });
                    return;
                }

                // åœ¨å½“å‰ç»“æœä¸­ç­›é€‰
                let filteredResults = currentSearchResults.filter(function(article) {
                    let keywordLower = keyword.toLowerCase();
                    if (scopes.includes('title') && article.title && article.title.toLowerCase().includes(keywordLower)) {
                        return true;
                    }
                    if (scopes.includes('content') && article.content && article.content.toLowerCase().includes(keywordLower)) {
                        return true;
                    }
                    if (scopes.includes('author') && article.user && article.user.nickname && article.user.nickname.toLowerCase().includes(keywordLower)) {
                        return true;
                    }
                    return false;
                });

                // æ›´æ–°å½“å‰æœç´¢ç»“æœ
                currentSearchResults = filteredResults;
                // å…³é—­å¼¹çª—
                $('#search_in_result_modal').modal('hide');
                // æ¸…ç©ºè¾“å…¥
                $('#result_search_keyword').val('');
                // æ˜¾ç¤ºç»“æœ
                showSearchResults(filteredResults, 'ç»“æœä¸­æŸ¥è¯¢ - "' + keyword + '"');
            });

            // ============================ æ˜¾ç¤ºæœç´¢ç»“æœ ============================
            function showSearchResults(results, title) {
                // ç§»é™¤å¯¼èˆªæ çš„æ¿€æ´»çŠ¶æ€
                removeNavActive();

                // æ„å»ºæœç´¢ç»“æœé¡µé¢ - ä½¿ç”¨å’Œarticle_list.htmlä¸€æ ·çš„æ ·å¼
                let searchPageHtml = '<style>'
                    + '.search-page-header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 18px 0; color: white; margin-bottom: 15px; border-radius: 0 0 12px 12px; }'
                    + '.search-page-title { font-size: 1.2rem; font-weight: 600; margin: 0; }'
                    + '.search-page-subtitle { opacity: 0.9; margin-top: 4px; font-size: 0.8rem; }'
                    + '.btn-continue { background: white; color: #667eea; border: none; padding: 6px 16px; border-radius: 16px; font-weight: 500; font-size: 0.8rem; transition: all 0.3s; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }'
                    + '.btn-continue:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); color: #764ba2; }'
                    + '.search-list-card { background: white; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.06); overflow: hidden; }'
                    + '.search-article-item { padding: 12px 16px; border-bottom: 1px solid #f5f5f5; transition: all 0.2s; cursor: pointer; }'
                    + '.search-article-item:last-child { border-bottom: none; }'
                    + '.search-article-item:hover { background: #fafbff; }'
                    + '.search-article-inner { display: flex; gap: 12px; }'
                    + '.search-article-avatar { width: 40px; height: 40px; border-radius: 8px; flex-shrink: 0; border: 2px solid #f0f0f0; transition: border-color 0.2s; }'
                    + '.search-article-item:hover .search-article-avatar { border-color: #667eea; }'
                    + '.search-article-content { flex: 1; min-width: 0; }'
                    + '.search-article-title { font-size: 0.9rem; font-weight: 500; color: #333; margin-bottom: 6px; display: block; transition: color 0.2s; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; text-decoration: none; }'
                    + '.search-article-title:hover { color: #667eea; }'
                    + '.search-article-meta { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; }'
                    + '.search-meta-author { display: flex; align-items: center; gap: 4px; color: #667eea; font-weight: 500; font-size: 0.75rem; }'
                    + '.search-meta-author svg { width: 12px; height: 12px; }'
                    + '.search-meta-time { display: flex; align-items: center; gap: 4px; color: #aaa; font-size: 0.75rem; }'
                    + '.search-meta-time svg { width: 12px; height: 12px; }'
                    + '.search-article-stats { display: flex; gap: 8px; margin-left: auto; flex-shrink: 0; }'
                    + '.search-stat-item { display: flex; align-items: center; gap: 3px; color: #aaa; font-size: 0.75rem; padding: 3px 8px; background: #f8f9fa; border-radius: 12px; transition: all 0.2s; }'
                    + '.search-stat-item svg { width: 12px; height: 12px; }'
                    + '.search-stat-item.views:hover { background: #e3f2fd; color: #1976d2; }'
                    + '.search-stat-item.likes:hover { background: #fce4ec; color: #e91e63; }'
                    + '.search-stat-item.replies:hover { background: #e8f5e9; color: #4caf50; }'
                    + '.search-empty { text-align: center; padding: 40px 20px; color: #bbb; }'
                    + '.search-empty svg { width: 50px; height: 50px; margin-bottom: 12px; opacity: 0.4; }'
                    + '.search-empty h4 { color: #888; margin-bottom: 6px; font-size: 0.95rem; }'
                    + '@media (max-width: 768px) { .search-article-stats { margin-left: 0; margin-top: 8px; } .search-article-inner { flex-wrap: wrap; } }'
                    + '</style>'
                    + '<div class="search-page-header">'
                    + '<div class="container-xl">'
                    + '<div class="d-flex justify-content-between align-items-center flex-wrap gap-3">'
                    + '<div>'
                    + '<h1 class="search-page-title">' + title + '</h1>'
                    + '<div class="search-page-subtitle">å…±æ‰¾åˆ° ' + results.length + ' æ¡ç»“æœ</div>'
                    + '</div>'
                    + '<button class="btn btn-continue" id="btn_continue_search">'
                    + '<svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path><path d="M21 21l-6 -6"></path></svg>'
                    + 'ç»§ç»­æŸ¥è¯¢'
                    + '</button>'
                    + '</div>'
                    + '</div>'
                    + '</div>'
                    + '<div class="container-xl">'
                    + '<div class="search-list-card">'
                    + '<div id="search-result-body"></div>'
                    + '</div>'
                    + '</div>';

                // æ›¿æ¢å†…å®¹åŒºåŸŸ
                $('#bit-forum-content').html(searchPageHtml);

                // ç»‘å®šç»§ç»­æŸ¥è¯¢æŒ‰é’®
                $('#btn_continue_search').click(function() {
                    $('#advanced_search_modal').modal('show');
                });

                // æ˜¾ç¤ºæœç´¢ç»“æœ
                if (results.length > 0) {
                    buildSearchResultList(results);
                    $.toast({
                        heading: 'æˆåŠŸ',
                        text: 'æŸ¥è¯¢åˆ° ' + results.length + ' æ¡ç»“æœ',
                        icon: 'success'
                    });
                } else {
                    $('#search-result-body').html('<div class="search-empty">'
                        + '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">'
                        + '<path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path><path d="M21 21l-6 -6"></path>'
                        + '</svg>'
                        + '<h4>æ²¡æœ‰æ‰¾åˆ°ç›¸å…³å¸–å­</h4>'
                        + '<p>æ¢ä¸ªå…³é”®è¯è¯•è¯•å§</p>'
                        + '</div>');
                    $.toast({
                        heading: 'æç¤º',
                        text: 'æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å¸–å­',
                        icon: 'info'
                    });
                }
            }

            // é«˜çº§æŸ¥è¯¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼ˆå…¼å®¹æ—§ä»£ç ï¼‰
            $('#btn_adv_search').click(function() {
                $('#btn_multi_search').click();
            });

            // é«˜çº§æŸ¥è¯¢é‡ç½®æŒ‰é’®ï¼ˆå…¼å®¹æ—§ä»£ç ï¼‰
            $('#btn_adv_search_reset').click(function() {
                $('#btn_multi_search_reset').click();
            });


            // ========================= æ„å»ºæœç´¢ç»“æœåˆ—è¡¨ =========================
            // ä½¿ç”¨å’Œarticle_list.htmlä¸€æ ·çš„æ ·å¼
            function buildSearchResultList(data) {
                let defaultAvatar = 'image/avatar01.jpeg';
                
                data.forEach(article => {
                    if (!article.user.avatarUrl) {
                        article.user.avatarUrl = defaultAvatar;
                    }
                    
                    let articleHtml = '<div class="search-article-item">'
                        + '<div class="search-article-inner">'
                        + '<span class="avatar search-article-avatar" style="background-image: url(' + article.user.avatarUrl + ')"></span>'
                        + '<div class="search-article-content">'
                        + '<a href="javascript:void(0);" class="search-article-title search_result_title">' + article.title + '</a>'
                        + '<div class="search-article-meta">'
                        + '<span class="search-meta-author">'
                        + '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>'
                        + article.user.nickname
                        + '</span>'
                        + '<span class="search-meta-time">'
                        + '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>'
                        + article.createTime
                        + '</span>'
                        + '</div>'
                        + '</div>'
                        + '<div class="search-article-stats">'
                        + '<span class="search-stat-item views">'
                        + '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>'
                        + article.visitCount
                        + '</span>'
                        + '<span class="search-stat-item likes">'
                        + '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>'
                        + article.likeCount
                        + '</span>'
                        + '<span class="search-stat-item replies">'
                        + '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>'
                        + article.replyCount
                        + '</span>'
                        + '</div>'
                        + '</div>'
                        + '</div>';
                    
                    let articleItem = $(articleHtml);
                    let articleTitle = articleItem.find('.search_result_title');
                    
                    // ç‚¹å‡»æ ‡é¢˜è·³è½¬è¯¦æƒ…
                    articleTitle.click(function(e) {
                        e.stopPropagation();
                        currentArticle = article;
                        removeNavActive();
                        $('#bit-forum-content').load('details.html');
                    });
                    
                    // ç‚¹å‡»æ•´è¡Œä¹Ÿå¯è·³è½¬
                    articleItem.click(function() {
                        currentArticle = article;
                        removeNavActive();
                        $('#bit-forum-content').load('details.html');
                    });
                    
                    $('#search-result-body').append(articleItem);
                });
            }

            // ============================ å¤„ç†ç®¡ç†ä¸­å¿ƒç‚¹å‡»äº‹ä»¶ ===========================
            $('#index_admin_center').click(function () {
                // æ‰“å¼€ç®¡ç†ä¸­å¿ƒæ¨¡æ€æ¡†
                $('#admin_board_modal').modal('show');
            });

            // ============================ å¤„ç†æ–°å¢æ¿å— ===========================
            $('#btn_admin_create_board').click(function () {
                // è·å–æ¿å—åç§°
                let boardNameEl = $('#admin_board_name');
                if (!boardNameEl.val()) {
                    $.toast({
                        heading: 'è­¦å‘Š',
                        text: 'è¯·è¾“å…¥æ¿å—åç§°',
                        icon: 'warning'
                    });
                    boardNameEl.focus();
                    return;
                }

                // å‘é€è¯·æ±‚
                $.ajax({
                    type: 'post',
                    url: 'board/create',
                    contentType: 'application/x-www-form-urlencoded',
                    data: { name: boardNameEl.val() },
                    success: function (respData) {
                        if (respData.code == 0) {
                            $.toast({
                                heading: 'æˆåŠŸ',
                                text: 'æ¿å—åˆ›å»ºæˆåŠŸï¼Œåˆ·æ–°é¡µé¢åç”Ÿæ•ˆ',
                                icon: 'success'
                            });
                            // æ¸…ç©ºè¾“å…¥æ¡†
                            boardNameEl.val('');
                            // å…³é—­æ¨¡æ€æ¡†
                            $('#admin_create_board_modal').modal('hide');
                        } else {
                            $.toast({
                                heading: 'è­¦å‘Š',
                                text: respData.message,
                                icon: 'warning'
                            });
                        }
                    },
                    error: function () {
                        $.toast({
                            heading: 'é”™è¯¯',
                            text: 'è®¿é—®å‡ºç°é—®é¢˜,è¯·ä¸ç®¡ç†å‘˜è”ç³».',
                            icon: 'error'
                        });
                    }
                });
            });
// ============================ åŠ è½½æ¿å—åˆ—è¡¨åˆ°ä¸‹æ‹‰æ¡† ===========================
            function loadBoardsToSelect() {
                $.ajax({
                    type: 'get',
                    url: 'board/topList',
                    success: function(respData) {
                        if (respData.code == 0) {
                            let selectEl = $('#admin_board_delete_select');
                            selectEl.html('<option value="">è¯·é€‰æ‹©è¦åˆ é™¤çš„æ¿å—</option>');
                            respData.data.forEach(board => {
                                selectEl.append('<option value="' + board.id + '">' + board.name + '</option>');
                            });
                        }
                    }
                });
            }

            // ============================ æ‰“å¼€åˆ é™¤æ¿å—å¼¹çª—æ—¶åŠ è½½æ¿å—åˆ—è¡¨ ===========================
            $('#admin_delete_board_modal').on('show.bs.modal', function() {
                loadBoardsToSelect();
            });

            // ============================ å¤„ç†åˆ é™¤æ¿å— ===========================
            $('#btn_admin_delete_board').click(function() {
                let boardId = $('#admin_board_delete_select').val();
                if (!boardId) {
                    $.toast({
                        heading: 'è­¦å‘Š',
                        text: 'è¯·é€‰æ‹©è¦åˆ é™¤çš„æ¿å—',
                        icon: 'warning'
                    });
                    return;
                }

                if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ¿å—å—ï¼Ÿ')) {
                    return;
                }

                $.ajax({
                    type: 'post',
                    url: 'board/delete',
                    contentType: 'application/x-www-form-urlencoded',
                    data: { id: boardId },
                    success: function(respData) {
                        if (respData.code == 0) {
                            $.toast({
                                heading: 'æˆåŠŸ',
                                text: 'æ¿å—åˆ é™¤æˆåŠŸï¼Œåˆ·æ–°é¡µé¢åç”Ÿæ•ˆ',
                                icon: 'success'
                            });
                            // å…³é—­æ¨¡æ€æ¡†
                            $('#admin_delete_board_modal').modal('hide');
                            // åˆ·æ–°ä¸‹æ‹‰æ¡†
                            loadBoardsToSelect();
                        } else {
                            $.toast({
                                heading: 'è­¦å‘Š',
                                text: respData.message,
                                icon: 'warning'
                            });
                        }
                    },
                    error: function() {
                        $.toast({
                            heading: 'é”™è¯¯',
                            text: 'è®¿é—®å‡ºç°é—®é¢˜,è¯·ä¸ç®¡ç†å‘˜è”ç³».',
                            icon: 'error'
                        });
                    }
                });
            });

            // ============================ åŠ è½½ç”¨æˆ·åˆ—è¡¨åˆ°ä¸‹æ‹‰æ¡† ===========================
            function loadUsersToSelect() {
                $.ajax({
                    type: 'get',
                    url: 'user/getAllUsers',
                    success: function(respData) {
                        if (respData.code == 0) {
                            let banSelectEl = $('#admin_ban_user_select');
                            let unbanSelectEl = $('#admin_unban_user_select');
                            banSelectEl.html('<option value="">è¯·é€‰æ‹©è¦ç¦è¨€çš„ç”¨æˆ·</option>');
                            unbanSelectEl.html('<option value="">è¯·é€‰æ‹©è¦è§£ç¦çš„ç”¨æˆ·</option>');
                            
                            respData.data.forEach(user => {
                                // è·³è¿‡ç®¡ç†å‘˜
                                if (user.isAdmin == 1) return;
                                
                                let displayText = user.nickname;
                                if (user.state == 0) {
                                    // æ­£å¸¸ç”¨æˆ· -> å¯ä»¥ç¦è¨€
                                    banSelectEl.append('<option value="' + user.id + '">' + displayText + '</option>');
                                } else if (user.state == 1) {
                                    // å·²ç¦è¨€ç”¨æˆ· -> å¯ä»¥è§£ç¦
                                    unbanSelectEl.append('<option value="' + user.id + '">' + displayText + ' (å·²ç¦è¨€)</option>');
                                }
                            });
                        }
                    }
                });
            }

            // ============================ æ‰“å¼€ç”¨æˆ·ç®¡ç†å¼¹çª—æ—¶åŠ è½½ç”¨æˆ·åˆ—è¡¨ ===========================
            $('#admin_user_manage_modal').on('show.bs.modal', function() {
                loadUsersToSelect();
            });

            // ============================ å¤„ç†ç¦è¨€ç”¨æˆ· ===========================
            $('#btn_admin_ban_user').click(function() {
                let userId = $('#admin_ban_user_select').val();
                let userName = $('#admin_ban_user_select option:selected').text();
                
                if (!userId) {
                    $.toast({
                        heading: 'è­¦å‘Š',
                        text: 'è¯·é€‰æ‹©è¦ç¦è¨€çš„ç”¨æˆ·',
                        icon: 'warning'
                    });
                    return;
                }

                if (!confirm('ç¡®å®šè¦ç¦è¨€ç”¨æˆ· "' + userName + '" å—ï¼Ÿ')) {
                    return;
                }

                $.ajax({
                    type: 'post',
                    url: 'user/setStateById',
                    contentType: 'application/x-www-form-urlencoded',
                    data: { userId: userId, state: 1 },
                    success: function(respData) {
                        if (respData.code == 0) {
                            $.toast({
                                heading: 'æˆåŠŸ',
                                text: 'ç”¨æˆ· "' + userName + '" å·²è¢«ç¦è¨€',
                                icon: 'success'
                            });
                            // åˆ·æ–°ä¸‹æ‹‰æ¡†
                            loadUsersToSelect();
                        } else {
                            $.toast({
                                heading: 'è­¦å‘Š',
                                text: respData.message,
                                icon: 'warning'
                            });
                        }
                    },
                    error: function() {
                        $.toast({
                            heading: 'é”™è¯¯',
                            text: 'è®¿é—®å‡ºç°é—®é¢˜,è¯·ä¸ç®¡ç†å‘˜è”ç³».',
                            icon: 'error'
                        });
                    }
                });
            });

            // ============================ å¤„ç†è§£ç¦ç”¨æˆ· ===========================
            $('#btn_admin_unban_user').click(function() {
                let userId = $('#admin_unban_user_select').val();
                let userName = $('#admin_unban_user_select option:selected').text().replace(' (å·²ç¦è¨€)', '');
                
                if (!userId) {
                    $.toast({
                        heading: 'è­¦å‘Š',
                        text: 'è¯·é€‰æ‹©è¦è§£ç¦çš„ç”¨æˆ·',
                        icon: 'warning'
                    });
                    return;
                }

                if (!confirm('ç¡®å®šè¦è§£ç¦ç”¨æˆ· "' + userName + '" å—ï¼Ÿ')) {
                    return;
                }

                $.ajax({
                    type: 'post',
                    url: 'user/setStateById',
                    contentType: 'application/x-www-form-urlencoded',
                    data: { userId: userId, state: 0 },
                    success: function(respData) {
                        if (respData.code == 0) {
                            $.toast({
                                heading: 'æˆåŠŸ',
                                text: 'ç”¨æˆ· "' + userName + '" å·²è¢«è§£ç¦',
                                icon: 'success'
                            });
                            // åˆ·æ–°ä¸‹æ‹‰æ¡†
                            loadUsersToSelect();
                        } else {
                            $.toast({
                                heading: 'è­¦å‘Š',
                                text: respData.message,
                                icon: 'warning'
                            });
                        }
                    },
                    error: function() {
                        $.toast({
                            heading: 'é”™è¯¯',
                            text: 'è®¿é—®å‡ºç°é—®é¢˜,è¯·ä¸ç®¡ç†å‘˜è”ç³».',
                            icon: 'error'
                        });
                    }
                });
            });

            // ============================ åŠ è½½å¸–å­åˆ—è¡¨åˆ°ä¸‹æ‹‰æ¡† ===========================
            function loadArticlesToSelect() {
                $.ajax({
                    type: 'get',
                    url: 'article/getAllByBoardId',
                    success: function(respData) {
                        if (respData.code == 0) {
                            let selectEl = $('#admin_article_delete_select');
                            selectEl.html('<option value="">è¯·é€‰æ‹©è¦åˆ é™¤çš„å¸–å­</option>');
                            respData.data.forEach(article => {
                                let authorName = article.user ? article.user.nickname : 'æœªçŸ¥';
                                let displayText = '[' + authorName + '] ' + article.title;
                                // æˆªæ–­è¿‡é•¿çš„æ ‡é¢˜
                                if (displayText.length > 50) {
                                    displayText = displayText.substring(0, 50) + '...';
                                }
                                selectEl.append('<option value="' + article.id + '">' + displayText + '</option>');
                            });
                        }
                    }
                });
            }

            // ============================ æ‰“å¼€åˆ é™¤å¸–å­å¼¹çª—æ—¶åŠ è½½å¸–å­åˆ—è¡¨ ===========================
            $('#admin_delete_article_modal').on('show.bs.modal', function() {
                loadArticlesToSelect();
            });

            // ============================ ç®¡ç†å‘˜åˆ é™¤å¸–å­ ===========================
            $('#btn_admin_delete_article').click(function() {
                let articleId = $('#admin_article_delete_select').val();

                if (!articleId) {
                    $.toast({
                        heading: 'è­¦å‘Š',
                        text: 'è¯·é€‰æ‹©è¦åˆ é™¤çš„å¸–å­',
                        icon: 'warning'
                    });
                    return;
                }

                if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå¸–å­å—ï¼Ÿåˆ é™¤åå°†æ— æ³•æ¢å¤ï¼')) {
                    return;
                }

                $.ajax({
                    type: 'post',
                    url: 'article/delete',
                    contentType: 'application/x-www-form-urlencoded',
                    data: { id: articleId },
                    success: function(respData) {
                        if (respData.code == 0) {
                            $.toast({
                                heading: 'æˆåŠŸ',
                                text: 'å¸–å­åˆ é™¤æˆåŠŸ',
                                icon: 'success'
                            });
                            // å…³é—­æ¨¡æ€æ¡†
                            $('#admin_delete_article_modal').modal('hide');
                            // åˆ·æ–°ä¸‹æ‹‰æ¡†
                            loadArticlesToSelect();
                        } else {
                            $.toast({
                                heading: 'è­¦å‘Š',
                                text: respData.message,
                                icon: 'warning'
                            });
                        }
                    },
                    error: function() {
                        $.toast({
                            heading: 'é”™è¯¯',
                            text: 'è®¿é—®å‡ºç°é—®é¢˜,è¯·ä¸ç®¡ç†å‘˜è”ç³».',
                            icon: 'error'
                        });
                    }
                });
            });

            //========================= è·å–ç”¨æˆ·ä¿¡æ¯ =======================
            // æˆåŠŸåï¼Œæ‰‹åŠ¨è®¾ç½®ç”¨æˆ·ä¿¡æ¯
            // $('#index_nav_avatar').css('background-image', 'url(' + user.avatarUrl + ')');
            $.ajax({
                //è¯·æ±‚çš„æ–¹æ³•
                type: 'get',
                //æ²¡æœ‰å‚æ•°,è¡¨ç¤ºè·å–å½“å‰ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯
                url: 'user/info',
                //æˆåŠŸå›è°ƒ
                success: function (respData){
                    //åˆ¤æ–­å“åº”çš„çŠ¶æ€ç 
                    if(respData.code == 0 && respData.data){
                        //è®¾ç½®é¡µé¢ç”¨æˆ·çš„ä¿¡æ¯
                        let user = respData.data;
                        currentUserId = user.id; // è®¾ç½®å½“å‰ç”¨æˆ·ID
                        //åˆ¤æ–­ç”¨æˆ·å¤´åƒæ˜¯å¦æœ‰æ•ˆ
                        if(!user.avatarUrl){
                            //è®¾ç½®é»˜è®¤çš„å¤´åƒåœ°å€
                            user.avatarUrl = avatarUrl;
                        }
                        //è®¾ç½®é¡µé¢ä¸Šçš„å¤´åƒ
                        $('#index_nav_avatar').css('background-image', 'url(' + user.avatarUrl + ')');
                        //è®¾ç½®ç”¨æˆ·æ˜µç§°
                        $('#index_nav_nickname').html(user.nickname);
                        //è®¾ç½®ç”¨æˆ·ç»„
                        let subName = user.isAdmin == 1 ? 'ç®¡ç†å‘˜' : 'æ™®é€šç”¨æˆ·';
                        $('#index_nav_name_sub').html(subName);
                        // å¦‚æœæ˜¯ç®¡ç†å‘˜ï¼Œæ˜¾ç¤ºç®¡ç†ä¸­å¿ƒå…¥å£
                        if (user.isAdmin == 1) {
                            $('#index_admin_center').show();
                        }
                        // éšè—æ¸¸å®¢æç¤ºï¼Œæ˜¾ç¤ºç”¨æˆ·èœå•
                        $('#guest_login_tip').hide();
                        $('#user_dropdown_menu').show();
                        // å·²ç™»å½•ç”¨æˆ·ï¼šåŠ è½½ç«™å†…ä¿¡
                        requestMessageUnreadCount();
                        requestMessageList();

                    }else{
                        // æ¸¸å®¢æ¨¡å¼ï¼šæœªç™»å½•ç”¨æˆ·
                        currentUserId = null;
                        $('#index_nav_avatar').css('background-image', 'url(' + avatarUrl + ')');
                        $('#index_nav_nickname').html('æ¸¸å®¢');
                        $('#index_nav_name_sub').html('æœªç™»å½•');
                        // æ˜¾ç¤ºæ¸¸å®¢æç¤ºï¼Œéšè—ç”¨æˆ·èœå•
                        $('#guest_login_tip').show();
                        $('#user_dropdown_menu').hide();
                    }
                },
                //å¤±è´¥å›è°ƒ
                error: function (){
                    // æ¸¸å®¢æ¨¡å¼ï¼šè¯·æ±‚å¤±è´¥æ—¶ä¹Ÿå½“ä½œæ¸¸å®¢å¤„ç†
                    currentUserId = null;
                    $('#index_nav_avatar').css('background-image', 'url(' + avatarUrl + ')');
                    $('#index_nav_nickname').html('æ¸¸å®¢');
                    $('#index_nav_name_sub').html('æœªç™»å½•');
                    $('#guest_login_tip').show();
                    $('#user_dropdown_menu').hide();
                }
            });

            // ========================= è·å–ç‰ˆå—ä¿¡æ¯ =======================
            // æˆåŠŸåï¼Œè°ƒç”¨buildTopBoard()æ–¹æ³•ï¼Œæ„å»ºç‰ˆå—åˆ—è¡¨
            $.ajax({
                type: 'get',
                url: 'board/topList',
                success: function (respData){
                    if(respData.code == 0){
                        //æ„å»ºæ¿å—åˆ—è¡¨
                        buildTopBoard(respData.data);
                    }
                    // æ¸¸å®¢æ¨¡å¼ä¸‹ä¸æ˜¾ç¤ºè­¦å‘Š
                },
                error: function (){
                    // æ¸¸å®¢æ¨¡å¼ä¸‹ä¸æ˜¾ç¤ºé”™è¯¯
                }
            });

            //========================= æ„é€ é¦–é¡µç‰ˆå—=======================
            // æ„é€ é¦–é¡µç‰ˆå—
            function buildTopBoard(data) {
                // ç‰ˆå—å¯¼èˆª
                let navBoardListEl = $('#topBoardList');
                // éå†ç‰ˆå—
                data.forEach(board => {
                    // æ„å»ºç‰ˆå—
                    let itemHtml = '<li class="nav-item">'
                        + '<a class="nav-link" href="javascript:void(0);">'
                        + '<span class="nav-link-icon d-md-none d-lg-inline-block">'
                        + '<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-point-filled" width="24"'
                        + 'height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"'
                        + 'stroke-linecap="round" stroke-linejoin="round">'
                        + '<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>'
                        + '<path d="M12 7a5 5 0 1 1 -4.995 5.217l-.005 -.217l.005 -.217a5 5 0 0 1 4.995 -4.783z"'
                        + 'stroke-width="0" fill="currentColor"></path>'
                        + '</svg>'
                        + '</span>'
                        + '<span class="nav-link-title">'
                        + board.name
                        + '</span>'
                        + '</a>'
                        + '</li>'
                    // ä¸ºç‰ˆå—ç»‘å®šå½“å‰ç‰ˆå—æ•°æ®å¯¹è±¡ä»¥ä¾¿åç»­è·å–
                    let boardItem = $(itemHtml);
                    // æŠŠç‰ˆå—ä¿¡æ¯ç»‘å®šåˆ°å½“å‰å¯¼èˆªå•å…ƒ
                    boardItem.data('board', board);
                    console.log('data = ' + boardItem.data('board').name + ', id = ' + boardItem.data('board').id);
                    // å¤„ç†ç‚¹å‡»äº‹ä»¶
                    boardItem.click(function () {
                        // alert('data = ' + boardItem.data('board').name + ', id = ' + boardItem.data('board').id);
                        // æ¿€æ´»æ•ˆæœ
                        changeNavActive(boardItem);
                    });
                    // åŠ å…¥ç‰ˆå—å¯¼èˆª
                    navBoardListEl.append(boardItem);
                });
            }

            // ========================= ç»‘å®šå¯¼èˆªæ ä¸­é¦–é¡µç‚¹å‡»äº‹ä»¶ =======================
            $('#nav_board_index').click(function () {
                // æ¿€æ´»æ•ˆæœ
                changeNavActive($(this));
            });


            // ========================= èµ·å§‹é¡µè€ŒåŠ è½½é¦–é¡µå¸–å­åˆ—è¡¨ =========================
            buildArticleList();

            // ========================= åŠ è½½ç»Ÿè®¡æ•°æ® =========================
            // åŠ è½½æ¿å—æ•°é‡ç»Ÿè®¡
            $.ajax({
                type: 'get',
                url: 'board/topList',
                success: function(respData) {
                    if (respData.code == 0) {
                        $('#stats_board_count').text(respData.data.length);
                    }
                }
            });
            // ç®€å•æ˜¾ç¤ºé»˜è®¤ç»Ÿè®¡ï¼ˆå®é™…é¡¹ç›®ä¸­å¯ä»¥ä»åç«¯è·å–ï¼‰
            $('#stats_article_count').text('100+');
            $('#stats_user_count').text('50+');

            // ========================= Hero åŒºåŸŸç”¨æˆ·ä¿¡æ¯åŒæ­¥ =========================
            // åŒæ­¥ç”¨æˆ·ä¿¡æ¯åˆ° Hero å¡ç‰‡
            $.ajax({
                type: 'get',
                url: 'user/info',
                success: function(respData) {
                    if (respData.code == 0 && respData.data) {
                        let user = respData.data;
                        if (user.avatarUrl) {
                            $('#hero_user_avatar').css('background-image', 'url(' + user.avatarUrl + ')');
                        }
                        $('#hero_user_nickname').text(user.nickname || 'æ¬¢è¿ç™»å½•');
                        $('#hero_user_role').text(user.isAdmin == 1 ? 'ç®¡ç†å‘˜' : 'æ™®é€šç”¨æˆ·');
                    } else {
                        // æ¸¸å®¢æ¨¡å¼
                        $('#hero_user_nickname').text('æ¬¢è¿ç™»å½•');
                        $('#hero_user_role').text('æ¢ç´¢æŠ€æœ¯ä¸–ç•Œ');
                    }
                }
            });

            // Hero åŒºåŸŸæŒ‰é’®äº‹ä»¶
            $('#hero_btn_profile').click(function() {
                // æ¸¸å®¢æƒé™æ£€æŸ¥
                if (!currentUserId) {
                    $.toast({
                        heading: 'æç¤º',
                        text: 'è¯·å…ˆç™»å½•åå†æŸ¥çœ‹æˆ‘çš„å¸–å­',
                        icon: 'warning'
                    });
                    return;
                }
                $('#index_user_profile').click();
            });
            $('#hero_btn_post').click(function() {
                // æ¸¸å®¢æƒé™æ£€æŸ¥
                if (!currentUserId) {
                    $.toast({
                        heading: 'æç¤º',
                        text: 'è¯·å…ˆç™»å½•åå†å‘å¸ƒå¸–å­',
                        icon: 'warning'
                    });
                    return;
                }
                // åœ¨ä¸»å†…å®¹åŒºåŠ è½½å‘å¸–é¡µé¢
                $('#bit-forum-content').load('article.html');
                $('html, body').animate({ scrollTop: 0 }, 300);
            });

            // ========================= ç­¾åˆ°åŠŸèƒ½ =========================
            $('#btn_checkin').click(function() {
                // æ¨¡æ‹Ÿç­¾åˆ°æˆåŠŸ
                $(this).prop('disabled', true).html('<svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12l5 5l10 -10"/></svg>å·²ç­¾åˆ°');
                $('#checkin_days').text(parseInt($('#checkin_days').text() || 0) + 1);
                $('#checkin_total').text(parseInt($('#checkin_total').text() || 0) + 1);
                $('#checkin_rank').text(Math.floor(Math.random() * 100) + 1);
                $.toast({
                    heading: 'ç­¾åˆ°æˆåŠŸ',
                    text: 'æ­å–œä½ ï¼Œç­¾åˆ°æˆåŠŸï¼ç»§ç»­ä¿æŒå“¦~',
                    icon: 'success'
                });
            });

            // ========================= é¡µè„šé“¾æ¥äº‹ä»¶ =========================
            $('#footer_link_home').click(function() {
                $('#nav_board_index').click();
                $('html, body').animate({ scrollTop: 0 }, 300);
            });
            $('#footer_link_profile').click(function() {
                // æ¸¸å®¢æƒé™æ£€æŸ¥
                if (!currentUserId) {
                    $.toast({ heading: 'æç¤º', text: 'è¯·å…ˆç™»å½•åå†æŸ¥çœ‹æˆ‘çš„å¸–å­', icon: 'warning' });
                    return;
                }
                $('#index_user_profile').click();
                $('html, body').animate({ scrollTop: 0 }, 300);
            });
            $('#footer_link_settings').click(function() {
                // æ¸¸å®¢æƒé™æ£€æŸ¥
                if (!currentUserId) {
                    $.toast({ heading: 'æç¤º', text: 'è¯·å…ˆç™»å½•åå†è®¿é—®ä¸ªäººä¸­å¿ƒ', icon: 'warning' });
                    return;
                }
                $('#index_user_settings').click();
                $('html, body').animate({ scrollTop: 0 }, 300);
            });

            // ========================= åŠ¨æ€åŠ è½½é¡µè„šçƒ­é—¨æ¿å— =========================
            function loadFooterBoards() {
                $.ajax({
                    type: 'get',
                    url: 'board/topList',
                    success: function(respData) {
                        if (respData.code == 0 && respData.data.length > 0) {
                            let footerBoardsEl = $('#footer_hot_boards');
                            footerBoardsEl.html(''); // æ¸…ç©ºé™æ€å†…å®¹
                            // åªæ˜¾ç¤ºå‰4ä¸ªæ¿å—
                            let boards = respData.data.slice(0, 4);
                            boards.forEach(function(board) {
                                let li = $('<li><a href="javascript:void(0);">' + board.name + '</a></li>');
                                // ç»‘å®šç‚¹å‡»äº‹ä»¶
                                li.find('a').click(function() {
                                    // æ‰¾åˆ°é¡¶éƒ¨å¯¼èˆªæ ä¸­å¯¹åº”çš„æ¿å—å¹¶ç‚¹å‡»
                                    $('#topBoardList .nav-item').each(function() {
                                        let navBoard = $(this).data('board');
                                        if (navBoard && navBoard.id == board.id) {
                                            $(this).click();
                                            // æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨
                                            $('html, body').animate({ scrollTop: 0 }, 300);
                                            return false;
                                        }
                                    });
                                });
                                footerBoardsEl.append(li);
                            });
                        }
                    }
                });
            }
            // é¡µé¢åŠ è½½æ—¶è°ƒç”¨
            loadFooterBoards();

            // ============================ å¤„ç†ä¸ªè®¾ç½®å¿ƒç‚¹å‡»äº‹ä»¶ ===========================
            $('#index_user_settings').click(function () {
                console.log('åŠ è½½è®¾ç½®ä¸­å¿ƒé¡µé¢');
                removeNavActive();
                $('#bit-forum-content').load('settings.html');
            });

            // ============================ å¤„ç†ä¸ªäººä¸­å¿ƒç‚¹å‡»äº‹ä»¶ ===========================
            $('#index_user_profile').click(function () {
                console.log('åŠ è½½ä¸ªäººä¸­å¿ƒé¡µé¢');
                removeNavActive();
                // æ¸…ç©ºè¦æŸ¥çœ‹çš„ç”¨æˆ·Idï¼Œè¡¨ç¤ºè¦æŸ¥çœ‹çš„æ˜¯è‡ªå·±
                profileUserId = undefined;
                // åŠ è½½ä¸ªäººå¸–å­åˆ—è¡¨
                $('#bit-forum-content').load('profile.html');
            });

            // ============================ å¤„ç†é€€å‡ºç™»å½•ç‚¹å‡»äº‹ä»¶ ===========================
            // æˆåŠŸåï¼Œè·³è½¬åˆ°sign-in.html
            $('#index_user_logout').click(function () {
                $.ajax({
                    type: 'get',
                    url: 'user/logout',
                    complete: function (){
                        //å½“å‰è¯·æ±‚å®Œæˆæ—¶,ä¸è®ºæˆåŠŸä¸å¤±è´¥éƒ½è·³è½¬åˆ°ç™»å½•é¡µé¢
                        location.assign('/sign-in.html');
                    }
                });
            });

            // ============ å‘é€ç«™å†…ä¿¡ ==============
            $('#btn_index_send_message').click(function() {
                // è·å–è¾“å…¥å†…å®¹
                let receiveUserIdEl = $('#index_message_receive_user_id');
                let messageContentEl = $('#index_message_receive_content');
                // æ ¡éªŒ
                if (!receiveUserIdEl.val()) {
                    $.toast({
                        heading: 'è­¦å‘Š',
                        text: 'å‡ºé”™äº†ï¼Œè¯·è”ç³»ç®¡ç†å‘˜',
                        icon: 'warning'
                    });
                    return;
                }
                if (!messageContentEl.val()) {
                    $.toast({
                        heading: 'è­¦å‘Š',
                        text: 'è¯·è¾“å…¥è¦å‘é€çš„å†…å®¹',
                        icon: 'warning'
                    });
                    // è¾“å…¥æ¡†
                    messageContentEl.focus();
                    return;
                }

                // æ„é€ å‘é€æ•°æ®
                let postData = {
                    receiveUserId : receiveUserIdEl.val(),
                    content : messageContentEl.val()
                };

                // å‘é€ç«™å†…ä¿¡è¯·æ±‚ url = message/send, æˆåŠŸä¸å¤±è´¥éƒ½è°ƒç”¨cleanMessageForm()æ–¹æ³•ï¼Œæ¸…ç©ºè¾“å…¥æ¡†
                $.ajax({
                    type: 'post',
                    url: 'message/send',
                    contentType: 'application/x-www-form-urlencoded',
                    data: postData,
                    // å›è°ƒ
                    success: function (respData){
                        if(respData.code == 0){
                            //æˆåŠŸ
                            cleanMessageForm()
                            //æç¤ºä¿¡æ¯
                            $.toast({
                                heading: 'æˆåŠŸ',
                                text: respData.message,
                                icon: 'success'
                            });
                        }else{
                            //æç¤ºä¿¡æ¯
                            $.toast({
                                heading: 'è­¦å‘Š',
                                text: respData.message,
                                icon: 'warning'
                            });
                        }
                    },
                    error: function (){
                        //æç¤ºä¿¡æ¯
                        $.toast({
                            heading: 'é”™è¯¯',
                            text: 'è®¿é—®å‡ºç°é—®é¢˜,è¯·ä¸ç®¡ç†å‘˜è”ç³».',
                            icon: 'error'
                        });
                    }
                });
            });

            // æ¸…ç©ºç«™å†…ä¿¡è¾“å…¥åŒº
            function cleanMessageForm () {
                $('#index_message_receive_user_id').val('');
                $('#index_message_receive_user_name').html('');
                $('#index_message_receive_content').val('');
            }
            // ============ ç«™å†…ä¿¡å–æ¶ˆæ¥é’®äº‹ä»¶ ============
            $('#index_message_receive_cancel').click(function () {
                // æ¸…ç©º
                cleanMessageForm();
            });

            // ============ è·å–ç”¨æˆ·æœªè¯»ç«™å†…ä¿¡æ•°é‡ ============
            // url = message/getUnreadCount
            // æˆåŠŸåï¼Œå¤„ç†å°çº¢ç‚¹æ˜¯å¦æ˜¾ç¤º #index_nva_message_badge
            function requestMessageUnreadCount () {
                // æ¸¸å®¢æ¨¡å¼ä¸è¯·æ±‚
                if (!currentUserId) {
                    $('#index_nva_message_badge').hide();
                    return;
                }
                $.ajax({
                    type: 'get',
                    url: 'message/getUnreadCount',
                    // å›è°ƒ
                    success: function (respData){
                        if(respData.code == 0){
                            // æˆåŠŸ,æ ¹æ®æœªè¯»æ•°æ¥åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºå°çº¢ç‚¹
                            // è·å–è¦æ“ä½œçš„HTMLçš„å…ƒç´ 
                            let messageBadgeEl = $('#index_nva_message_badge');
                            if(respData.data > 0){
                                // æ˜¾ç¤º
                                messageBadgeEl.show();
                            }else{
                                // éšè—
                                messageBadgeEl.hide();
                            }
                        }
                    },
                    error: function (){
                        // æ¸¸å®¢æ¨¡å¼ä¸‹å¿½ç•¥é”™è¯¯
                    }
                });
            }

            // æ–¹æ³•å®šä¹‰ï¼ˆåœ¨ç”¨æˆ·ç™»å½•æˆåŠŸåè°ƒç”¨ï¼‰
            // requestMessageUnreadCount();


            // ============ è·å–ç”¨æˆ·æ‰€æœ‰ç«™å†…ä¿¡ ============
            // æˆåŠŸåï¼Œè°ƒç”¨buildMessageList() æ–¹æ³•æ„å»ºç«™å†…ä¿¡åˆ—è¡¨
            function requestMessageList () {
                // æ¸¸å®¢æ¨¡å¼ä¸è¯·æ±‚
                if (!currentUserId) {
                    return;
                }
                $.ajax({
                    type: 'get',
                    url: 'message/getAll',
                    // å›è°ƒ
                    success: function (respData){
                        if(respData.code == 0){
                            // æˆåŠŸ,æ„å»ºç«™å†…ä¿¡åˆ—è¡¨
                            buildMessageList(respData.data);
                        }
                    },
                    error: function (){
                        // æ¸¸å®¢æ¨¡å¼ä¸‹å¿½ç•¥é”™è¯¯
                    }
                });
            }
            // æ–¹æ³•å®šä¹‰ï¼ˆåœ¨ç”¨æˆ·ç™»å½•æˆåŠŸåè°ƒç”¨ï¼‰
            // requestMessageList();

            // ============ å¤„ç†ç«™å†…ä¿¡åˆ—è¡¨é¡µé¢ ============
            function buildMessageList(messageList) {
                // è·å–çˆ¶æ ‡ç­¾
                let messageDivEl = $('#index_div_message');
                if (!messageList || messageList.length == 0) {
                    messageDivEl.html('<strong>æ²¡æœ‰ç«™å†…ä¿¡</strong>');
                    return;
                }
                // è·å–ç«™å†…ä¿¡åˆ—è¡¨çˆ¶æ ‡ç­¾
                let messageListDivEl = $('#index_div_message_list');
                messageListDivEl.html('');
                // éå†ç»“æœ
                messageList.forEach(messageItem => {
                    let itemHtml = ' <div class="list-group-item"> '
                        + ' <div class="row align-items-center"> '
                        + ' <div class="col-auto"><span class="status-dot d-block"></span></div> '
                        + ' <div class="col text-truncate"> '
                        + ' <a href="javascript:void(0);" class="text-body d-block index_message_title" data-bs-toggle="modal" data-bs-target="#index_message_reply_modal"> '
                        +  ' <span class="index_message_item_statue">[å·²è¯»]</span> &nbsp; '
                        + ' <span>æ¥è‡ª <strong> '+ messageItem.postUser.nickname
                        + ' </strong> çš„æ¶ˆæ¯</span></a> '
                        + ' <div class="d-block text-muted text-truncate mt-n1"> '
                        + messageItem.content
                        + ' </div> '
                        + ' </div> '
                        + ' <div class="col-auto"> '
                        + ' <a href="javascript:void(0);" class="list-group-item-actions" data-bs-toggle="modal" data-bs-target="#index_message_reply_modal"> '
                        + ' <svg xmlns="http://www.w3.org/2000/svg" class="icon text-muted bi bi-reply" width="24" height="24" '
                        + ' fill="currentColor" viewBox="0 0 16 16"> '
                        + ' <path d="M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z"/> '
                        + ' </svg> '
                        + ' </a> '
                        + ' </div> '
                        + ' </div> '
                        + ' </div>';

                    // è½¬ä¸ºjQueryå¯¹è±¡
                    let messageItemEL = $(itemHtml);
                    // è®¾ç½®çŠ¶æ€ bg-green bg-red status-dot-animated
                    let statusDotEl = messageItemEL.find('.status-dot');
                    let statusDescEl = messageItemEL.find('.index_message_item_statue');
                    if (messageItem.state == 0) {
                        // æœªè¯»
                        statusDotEl.addClass('status-dot-animated bg-red');
                        statusDescEl.html('[æœªè¯»]');
                    } else if (messageItem.state == 1) {
                        // å·²è¯»
                        statusDescEl.html('[å·²è¯»]');
                    } else if (messageItem.state == 2) {
                        // å·²å›å¤
                        statusDotEl.addClass('bg-green');
                        statusDescEl.html('[å·²å›å¤]');
                    }
                    // ç»‘å®šæ•°æ®
                    messageItemEL.data('message', messageItem);
                    // ç»‘å®šç‚¹å‡»äº‹ä»¶
                    messageItemEL.find('.list-group-item-actions, .index_message_title').click(function () {
                        // è¯¦æƒ…ä¸å›å¤é¡µé¢æ•°æ®
                        // ç«™å†…ä¿¡Id
                        $('#index_message_detail_id').val(messageItem.id);
                        // æ ‡é¢˜
                        $('#index_message_detail_title').html('æ”¶åˆ°æ¥è‡ª <strong>' + messageItem.postUser.nickname + '</strong> çš„æ–°æ¶ˆæ¯');
                        // å†…å®¹
                        $('#index_message_detail_content').html(messageItem.content);
                        // æ¥æ”¶è€…Id
                        $('#index_message_reply_receive_user_id').val(messageItem.postUser.id);
                        // æ¥æ”¶è€…ä¿¡æ¯
                        $('#index_message_reply_receive_user_name').html('å›å¤ç»™: ' + messageItem.postUser.nickname);
                        // å¤ä½å›å¤åŒºåŸŸ
                        $('#index_message_reply_div').hide();
                        // å¤ä½æ¥é’®æ˜¾ç¤º
                        $('#btn_index_message_reply').show();
                        $('#btn_index_send_message_reply').hide();
                        // æ‰“å¼€æ¨¡æ€æ¡†
                        $('#index_message_reply_modal').modal('show');


                        // å‘é€è¯·æ±‚,æ›´æ–°çŠ¶æ€ä¸ºå·²è¯»
                        if(messageItem.state == 0 && statusDotEl.hasClass('status-dot-animated bg-red')){
                            $.ajax({
                                type: 'post',
                                url: 'message/markRead',
                                contentType: 'application/x-www-form-urlencoded',
                                data: {id : messageItem.id},
                                // æˆåŠŸå›è°ƒ
                                success: function (respData){
                                    if(respData.code == 0){
                                        // æ›´æ–°é¡µé¢æ•ˆæœå’ŒmessageItem.state
                                        statusDotEl.removeClass('status-dot-animated bg-red');
                                        // ä¿®æ”¹æœªè¯»ä¸ºå·²è¯»
                                        statusDescEl.html('[å·²è¯»]');
                                        // ä¿®æ”¹æœ¬åœ°çš„å¯¹è±¡çŠ¶æ€å±æ€§
                                        messageItem.state = 1;
                                        // åˆ·æ–°æœªè¯»æ¶ˆæ¯æ•°
                                        requestMessageUnreadCount();
                                    }
                                }
                            });
                        }
                    });

                    // æ·»åŠ åˆ°åˆ—è¡¨
                    messageListDivEl.append(messageItemEL);

                });
            }

            // ============ å¤„ç†é˜…è¯»å’Œå›å¤ç«™å†…ä¿¡ ============
            // æ¸…ç©ºç«™å†…ä¿¡è¾“å…¥åŒº
            function cleanMessageReplyForm () {
                // è¯¦æƒ…åŒº
                $('#index_message_detail_id').val('');
                $('#index_message_detail_title').html('');
                $('#index_message_detail_content').html('');
                // å›å¤åŒº
                $('#index_message_reply_receive_user_id').val('');
                $('#index_message_reply_receive_user_name').html('');
                $('#index_message_reply_receive_content').val('');
                console.log(123);
            }
            // ============ ç«™å†…ä¿¡å–æ¶ˆæ¥é’®äº‹ä»¶ ============
            $('#index_message_reply_cancel').click(function () {
                // æ¸…ç©º
                cleanMessageReplyForm();
            });

            // å¤„ç†å›å¤ç«™å†…ä¿¡æŒ‰é’®äº‹ä»¶
            $('#btn_index_message_reply').click(function () {
                // æ¸…ç©ºå†…å®¹åŒº
                $('#index_message_reply_receive_content').val('');
                // æ˜¾ç¤ºå›å¤åŒºåŸŸ
                $('#index_message_reply_div').show();
                // éšè—å›å¤æŒ‰é’®ï¼Œæ˜¾ç¤ºå‘é€æŒ‰é’®
                $(this).hide();
                $('#btn_index_send_message_reply').show();
            });

            // ============ ç»‘å®šå‘é€æŒ‰é’®äº‹ä»¶ ============
            $('#btn_index_send_message_reply').click(function () {
                // æ ¡éªŒç”¨æˆ·è¾“å…¥
                let replyReceiveContentEl = $('#index_message_reply_receive_content');
                if (!replyReceiveContentEl.val()) {
                    $.toast({
                        heading: 'è­¦å‘Š',
                        text: 'è¯·è¾“å…¥è¦å›å¤çš„å†…å®¹',
                        icon: 'warning'
                    });
                    // è¾“å…¥æ¡†
                    replyReceiveContentEl.focus();
                    return;
                }

                // æ„é€ è¯·æ±‚æ•°æ®
                let postData = {
                    repliedId: $('#index_message_detail_id').val(),
                    receiveUserId : $('#index_message_reply_receive_user_id').val(),
                    content: replyReceiveContentEl.val()
                };

                // å‘é€è¯·æ±‚ message/reply
                // å›å¤æˆåŠŸååˆ·æ–°æœªè¯»æ ‡è¯†å’Œç«™å†…ä¿¡åˆ—è¡¨
                // requestMessageUnreadCount();
                // requestMessageList();
                // // æ¸…ç©ºè¾“å…¥åŒº
                // cleanMessageReplyForm ();
                $.ajax ({
                    type: 'post',
                    url: 'message/reply',
                    contentType: 'application/x-www-form-urlencoded',
                    data: postData,
                    // å›è°ƒ
                    success: function (respData){
                        if(respData.code == 0){
                            // å›å¤æˆåŠŸååˆ·æ–°æœªè¯»æ ‡è¯†å’Œç«™å†…ä¿¡åˆ—è¡¨
                            requestMessageUnreadCount();
                            requestMessageList();
                            // æ¸…ç©ºè¾“å…¥åŒº
                            cleanMessageReplyForm ();
                            //æç¤ºä¿¡æ¯
                            $.toast({
                                heading: 'æˆåŠŸ',
                                text: respData.message,
                                icon: 'success'
                            });
                        }else{
                            //æç¤ºä¿¡æ¯
                            $.toast({
                                heading: 'è­¦å‘Š',
                                text: respData.message,
                                icon: 'warning'
                            });
                        }
                    },
                    error: function (){
                        //æç¤ºä¿¡æ¯
                        $.toast({
                            heading: 'é”™è¯¯',
                            text: 'è®¿é—®å‡ºç°é—®é¢˜,è¯·ä¸ç®¡ç†å‘˜è”ç³».',
                            icon: 'error'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>