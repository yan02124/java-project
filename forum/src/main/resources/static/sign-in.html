<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户登录</title>
    <link rel="shortcut icon" href="favicon.ico">
</head>
<body style="margin:0;min-height:100vh;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:flex;align-items:center;justify-content:center;font-family:Arial,sans-serif;">
    <div style="width:380px;background:#fff;border-radius:16px;box-shadow:0 20px 40px rgba(0,0,0,0.2);padding:35px;">
        <div style="text-align:center;margin-bottom:20px;">
            <img src="image/forum-logo01.png" alt="Logo" style="height:40px;">
        </div>
        <h2 style="text-align:center;color:#333;margin:0 0 8px 0;font-size:20px;">用户登录</h2>
        <p style="text-align:center;color:#888;font-size:13px;margin:0 0 25px 0;">欢迎回来</p>
        <div style="margin-bottom:16px;">
            <label style="display:block;font-size:13px;font-weight:500;color:#333;margin-bottom:6px;">用户名</label>
            <input type="text" id="username" placeholder="请输入用户名" style="width:100%;padding:10px 14px;border:1px solid #ddd;border-radius:8px;font-size:14px;box-sizing:border-box;">
        </div>
        <div style="margin-bottom:20px;">
            <label style="display:block;font-size:13px;font-weight:500;color:#333;margin-bottom:6px;">密码</label>
            <input type="password" id="password" placeholder="请输入密码" style="width:100%;padding:10px 14px;border:1px solid #ddd;border-radius:8px;font-size:14px;box-sizing:border-box;">
        </div>
        <button id="loginBtn" style="width:100%;padding:12px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;">登录</button>
        <div style="display:flex;align-items:center;margin:20px 0;color:#aaa;">
            <div style="flex:1;height:1px;background:#e0e0e0;"></div>
            <span style="padding:0 10px;font-size:12px;">或</span>
            <div style="flex:1;height:1px;background:#e0e0e0;"></div>
        </div>
        <a href="index.html" style="display:block;width:100%;padding:10px;background:#fff;color:#666;border:1px solid #ddd;border-radius:8px;font-size:14px;text-align:center;text-decoration:none;box-sizing:border-box;">游客模式</a>
        <p style="text-align:center;margin-top:20px;font-size:13px;color:#888;">没有账户？<a href="sign-up.html" style="color:#667eea;">立即注册</a></p>
    </div>
    <script>
        document.getElementById('loginBtn').onclick = function() {
            var u = document.getElementById('username').value;
            var p = document.getElementById('password').value;
            if (!u) { alert('请输入用户名'); return; }
            if (!p) { alert('请输入密码'); return; }
            var xhr = new XMLHttpRequest();
            xhr.open('POST', 'user/login', true);
            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            xhr.onload = function() {
                if (xhr.status === 200) {
                    var res = JSON.parse(xhr.responseText);
                    if (res.code === 0) { location.href = 'index.html'; }
                    else { alert(res.message); }
                } else { alert('请求失败'); }
            };
            xhr.send('username=' + encodeURIComponent(u) + '&password=' + encodeURIComponent(p));
        };
    </script>
</body>
</html>